import{j as x,r as v,aL as Ex,aM as B,aN as px,aO as Cn,aP as xe,aJ as $x,aQ as vn,aR as Sn,aS as kn,aT as Rn}from"./react-vendor-BXn6fEWa.js";import{c as In,O as wt,u as Je,L as Tx,a as jx,b as Pn,R as zn}from"./tanstack--U6VkVMj.js";import{a as Ge,A as An}from"./utils-DyKf6pzJ.js";import{L as Tn,F as On,a as Dn,b as Mn,c as Wn,d as En,e as Ct,f as ue,g as Bn,h as Ln,i as Fn,j as he,k as Un,l as $n,m as Nn,n as vt,o as Hn,p as bt,q as Bx,r as St,s as kt,t as qn,u as Vn,v as Yn,w as Qn,x as Jn,y as Gn,z as Rt,I as Kn,A as Xn}from"./icons-jJwcZz_2.js";import{I as Ke,D as Xe,a as Zn,b as Ze,c as xt,d as et,e as tt,f as nt,g as st,h as xs,C as es,i as ts,j as ns,k as ss,l as as,F as cs,m as rs,n as os,o as is,p as ls,R as ds,q as fs,r as us,s as hs,t as bs,S as E,u as Nx,B as P,v as Ox,T as ps,w as _s,x as It,y as gs,z as js,A as ms,E as ys,G as ws,H as Pt,J as ee,K as te,L as sx,M as ax,N as ne,O as U,P as R,Q as D,U as $,V as Cs,W as vs,X as Ss,Y as ks,Z as Rs,_ as zt,$ as At,a0 as Hx,a1 as qx,a2 as Is,a3 as Ps,a4 as zs,a5 as As,a6 as Ts,a7 as Z,a8 as A,a9 as pt,aa as J,ab as ux,ac as hx,ad as Os,ae as at,af as wx,ag as ct,ah as mx,ai as yx,aj as Ds,ak as Ms,al as Dx,am as se,an as Ws,ao as Es,ap as Bs,aq as Ls,ar as Fs,as as Us,at as $s,au as rt,av as Tt,aw as Ot,ax as Dt,ay as Ns,az as Mt,aA as Hs,aB as qs,aC as be,aD as Wt,aE as Vs,aF as Ys,aG as Qs,aH as Js,aI as Gs,aJ as Ks,aK as Xs,aL as _t,aM as Zs,aN as Et,aO as Bt,aP as xa,aQ as ea,aR as ta,aS as na,aT as sa}from"./chakra-DiKpxIUk.js";import{u as oe,w as aa,F as ca}from"./xlsx-CP9eu3XH.js";import"./vendor-Cf3qdtpH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=e(a);fetch(a.href,c)}})();const Lt=In({component:()=>x.jsx("div",{id:"ok",children:x.jsx(wt,{})})}),ot=v.forwardRef(function(n,e){return x.jsx(Ke,{variant:"ghost","aria-label":"Close",ref:e,...n,children:n.children??x.jsx(Tn,{})})}),cx=({isOpen:t,onClose:n,children:e,...s})=>x.jsx(et,{open:t,onOpenChange:a=>!a.open&&n(),...s,children:x.jsx(Ex,{children:e})}),rx=t=>x.jsx(tt,{...t}),ox=({children:t,...n})=>x.jsx(nt,{children:x.jsx(st,{...n,children:t})}),ix=v.forwardRef((t,n)=>{const{children:e,...s}=t;return x.jsx(Xe,{ref:n,...s,children:x.jsx(Zn,{children:e})})}),lx=Ze,it=xt,dx=t=>x.jsx(xs,{position:"absolute",top:"2",insetEnd:"2",...t,children:x.jsx(ot,{size:"sm"})}),V=v.forwardRef(function(n,e){const{icon:s,children:a,inputProps:c,rootRef:r,colorPalette:l="brand",...o}=n;return x.jsxs(es,{ref:r,colorPalette:l,...o,children:[x.jsx(ts,{ref:e,...c}),x.jsx(ns,{children:s||x.jsx(ss,{})}),a!=null&&x.jsx(as,{children:a})]})}),tx=v.forwardRef(function(n,e){const{label:s,children:a,helperText:c,errorText:r,optionalText:l,...o}=n;return x.jsxs(cs,{ref:e,...o,children:[s&&x.jsxs(rs,{children:[s,x.jsx(os,{fallback:l})]}),a,c&&x.jsx(is,{children:c}),r&&x.jsx(ls,{children:r})]})}),ra=bs,oa=v.forwardRef(function(n,e){const{children:s,inputProps:a,rootRef:c,colorPalette:r="brand",...l}=n;return x.jsxs(ds,{ref:c,colorPalette:r,...l,children:[x.jsx(fs,{ref:e,...a}),x.jsx(us,{}),s&&x.jsx(hs,{children:s})]})}),ex=v.forwardRef(function(n,e){const{noOfLines:s=1,gap:a=2,...c}=n;return s>1?x.jsx(E,{gap:a,width:"full",ref:e,children:Array.from({length:s}).map((r,l)=>x.jsx(Nx,{...c},l))}):x.jsx(Nx,{ref:e,...c})});v.forwardRef(function(n,e){return x.jsx(Nx,{ref:e,borderRadius:"full",boxSize:"12",...n})});const ia=v.forwardRef(function(n,e){const{noOfLines:s=3,gap:a=2,...c}=n;return x.jsx(E,{gap:a,width:"full",ref:e,children:Array.from({length:s}).map((r,l)=>x.jsx(Nx,{height:"4",ref:l===0?e:void 0,...c,width:l===s-1?"80%":"100%"},l))})});function Mx({title:t,body:n,onConfirm:e,onClose:s,isOpen:a,leastDestructiveRef:c,children:r,...l}){return x.jsx(et,{open:a,onOpenChange:o=>!o.open&&s(),...l,children:x.jsxs(Ex,{children:[x.jsx(tt,{}),x.jsx(nt,{children:x.jsxs(st,{children:[x.jsx(Xe,{fontSize:"lg",fontWeight:"bold",children:t}),x.jsxs(Ze,{children:[n,r]}),x.jsxs(xt,{children:[x.jsx(P,{onClick:s,children:"取消"}),x.jsx(P,{colorPalette:"red",onClick:e,ml:3,children:"确认"})]})]})})]})})}const Y=v.forwardRef(function(n,e){return x.jsx(P,{padding:0,ref:e,...n})}),la="/daily/assets/announcement-DRPQywjv.png",da=B.create(()=>{const t=px();return x.jsxs(cx,{blockScrollOnMount:!1,size:"lg",placement:"center",closeOnOverlayClick:!1,isOpen:t.visible,onClose:async()=>{t.resolve(),await t.hide()},children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"使用须知"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx(Ox,{src:la,alt:"announcement",w:"full",h:"auto",maxH:"60vh",objectFit:"contain"})})]})]})}),m=Cn({placement:"top-end",duration:2500}),fa=()=>x.jsx(Ex,{children:x.jsx(ps,{toaster:m,insetInline:{md:"4"},children:t=>x.jsxs(_s,{width:{md:"sm"},flexDirection:"row",onClick:()=>m.dismiss(t.id),cursor:"pointer",children:[t.type==="loading"?x.jsx(It,{size:"sm",color:"blue.solid"}):x.jsx(gs,{}),x.jsxs(E,{gap:"1",flex:"1",maxWidth:"100%",children:[t.title&&x.jsx(js,{children:t.title}),t.description&&x.jsx(ms,{children:t.description})]}),t.action&&x.jsx(ys,{children:t.action.label}),x.jsx(ws,{})]})})});function ua({url:t}){const[n,e]=v.useState(null);return v.useEffect(()=>{lt.get(t).then(s=>{e(s.data)}).catch(s=>{m.create({type:"error",title:"获取日常结果失败",description:s.response?.data||"网络错误"})})},[t]),x.jsx(ha,{resultData:n})}function ha({resultData:t}){return x.jsx(Pt,{rounded:"lg",bg:"bg.panel",boxShadow:"lg",children:x.jsxs(ee,{size:"sm",striped:!0,colorPalette:"teal",children:[x.jsx(te,{children:x.jsxs(sx,{children:[x.jsx(ax,{children:"序号"}),x.jsx(ax,{children:"名字"}),x.jsx(ax,{children:"配置"}),x.jsx(ax,{children:"状态"}),x.jsx(ax,{children:"结果"})]})}),x.jsx(ne,{children:t?.order?.map((n,e)=>x.jsx(ba,{index:e,resultData:t.result[n]},n))})]})})}function ba({resultData:t,index:n,...e}){return x.jsxs(sx,{...e,children:[x.jsxs(U,{children:[" ",n," "]}),x.jsxs(U,{children:[" ",t.name," "]}),x.jsx(U,{style:{whiteSpace:"pre-wrap"},children:t.config}),x.jsxs(U,{children:[" ",t.status," "]}),x.jsx(U,{style:{whiteSpace:"pre-wrap"},children:t.log})]})}const ie={base:"blue.50",_dark:"blue.800"},le={base:"green.50",_dark:"green.800"};function pa({header:t,data:n}){const[e,s]=v.useState(null),a=(w,d)=>{const b=d.split(".");let u=w;for(const C of b){if(u!==null&&typeof u=="object"&&C in u){u=u[C];continue}return null}return u},c=v.useMemo(()=>{if(!e)return n;const{key:w,direction:d}=e;return[...n].sort((b,u)=>{const C=a(b,w),I=a(u,w);if(typeof C=="number"&&typeof I=="number")return d==="asc"?C-I:I-C;const g=String(C),y=String(I);return d==="asc"?g.localeCompare(y):y.localeCompare(g)})},[n,e]),{maxDepth:r,headerRows:l}=v.useMemo(()=>{const w=C=>C.reduce((I,g)=>{if(typeof g=="string")return Math.max(I,1);const y=Object.keys(g)[0];return Math.max(I,1+w(g[y]))},0),d=w(t),b=Array.from({length:d},()=>[]),u=(C,I=0,g="",y=-1)=>{C.forEach((_,S)=>{if(b[I].push({header:_,parent:g,index:y==-1?S:y}),typeof _!="string"){const T=Object.keys(_)[0];u(_[T],I+1,`${g}${T}.`,S)}})};return u(t),{maxDepth:d,headerRows:b}},[t]),o=w=>w.reduce((d,b)=>d+(typeof b=="string"?1:o(b[Object.keys(b)[0]])),0),i=25,f=(w,d)=>{const b=[];for(let u=0;u<w.length;u++){const{header:C,parent:I}=w[u];let g,y=1,_=1,S=!1;if(typeof C=="string")g=C,_=r-d,S=!0;else{const H=Object.keys(C)[0];g=H,y=o(C[H])}const T=`${I}${g}`,F=w[u].index%2==0?ie:le;b.push(x.jsx(ax,{colSpan:y,rowSpan:_,outline:"1px solid gray",p:1,textAlign:"center",position:"sticky",top:`${d*i}px`,...d===0&&u==0?{left:0,zIndex:200}:{zIndex:100-d},bg:F,...S?{onClick:()=>{s(H=>H?.key===T?{key:T,direction:H.direction==="asc"?"desc":"asc"}:{key:T,direction:"asc"})}}:{},children:x.jsxs(D,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:[g,S&&e?.key===T&&x.jsx(R,{as:"span",ml:1,children:e.direction==="asc"?"↑":"↓"})]})},`${d}-${u}`))}return x.jsx(sx,{children:b},d)},p=(w,d,b,u="",C=-1)=>w.flatMap((I,g)=>{if(typeof I=="string")return x.jsx(U,{border:"1px solid gray",whiteSpace:"pre",bg:C==-1?g%2==0?ie:le:C%2==0?ie:le,children:d[I]??""},`ceil-${I}-${u}-${b}-${g}`);{const y=Object.keys(I)[0],_=I[y],S=d[y];return S!==void 0&&typeof S!="object"?x.jsx(U,{whiteSpace:"pre",border:"1px solid gray",children:S},`ceil-${y}-${u}-${b}-${g}`):p(_,S||{},b,`${u}${y}.`,C==-1?g:C)}});return x.jsx(R,{rounded:"lg",boxShadow:"lg",overflowX:"auto",overflowY:"auto",maxH:"calc(100vh - 100px)",children:x.jsxs(ee,{size:"sm",variant:"outline",css:{"td:first-of-type":{position:"sticky",left:0,zIndex:1,border:"1px solid gray"}},children:[x.jsx(te,{children:l.map((w,d)=>f(w,d))}),x.jsx(ne,{children:c.map((w,d)=>x.jsx(sx,{children:p(t,w,d)},d))})]})})}const _a=B.create(({header:t,data:n})=>{const e=px();return x.jsxs(cx,{blockScrollOnMount:!1,size:"full",closeOnOverlayClick:!1,isOpen:e.visible,onClose:e.hide,children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"表格结果"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx(pa,{header:t,data:n})})]})]})});function ga({header:t,data:n}){const e=d=>d.reduce((b,u)=>{if(typeof u=="string")return Math.max(b,1);const C=u[Object.keys(u)[0]];return Math.max(b,1+e(C))},0),s=e(t),a=d=>d.reduce((b,u)=>b+(typeof u=="string"?1:a(u[Object.keys(u)[0]])),0),c=Array.from({length:s},()=>[]),r=[];function l(d,b=0,u=0){d.forEach(C=>{if(typeof C=="string"){c[b].push(C);for(let I=b+1;I<s;I++)c[I].push(""),r.push({s:{r:b,c:u},e:{r:s-1,c:u}});u+=1}else{const I=Object.keys(C)[0],g=C[I],y=a(g);c[b].push(I);for(let _=1;_<y;_++)c[b].push("");r.push({s:{r:b,c:u},e:{r:b,c:u+y-1}}),l(g,b+1,u),u+=y}})}l(t);const o=(d,b)=>d.flatMap(u=>{if(typeof u=="string")return b[u];{const C=Object.keys(u)[0],I=u[C],g=b[C];return g!==void 0&&typeof g!="object"?g:o(I,g||{})}}),i=n.map(d=>o(t,d)),f=[...c,...i],p=new Date().toLocaleString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/[/\s:]/g,"-"),w=()=>{const d=oe.aoa_to_sheet(f);d["!merges"]=r;const b=oe.book_new();oe.book_append_sheet(b,d,"Sheet1"),aa(b,`表格_${p}.xlsx`)};return x.jsx(P,{onClick:w,colorPalette:"teal",children:"导出 Excel"})}function ja({header:t,data:n}){return x.jsx(R,{children:x.jsx(D,{direction:"column",gap:4,children:x.jsxs($,{children:[x.jsx(P,{onClick:async()=>{await B.show(_a,{header:t,data:n})},children:"展示表格"}),x.jsx(ga,{header:t,data:n})]})})})}function ma({url:t}){const[n,e]=v.useState(null);return v.useEffect(()=>{lt.get(t).then(s=>{e(s.data)}).catch(s=>{m.create({type:"error",title:"获取日常结果失败",description:s.response?.data||"网络错误"})})},[t]),x.jsx(ya,{resultData:n})}function ya({resultData:t}){const n=!!(t?.table?.data?.length??!1);return x.jsx(x.Fragment,{children:x.jsx(Pt,{rounded:"lg",bg:"bg.panel",boxShadow:"lg",mb:n?4:0,children:x.jsxs(ee,{size:"sm",striped:!0,colorPalette:"teal",width:"100%",children:[x.jsx(te,{children:x.jsxs(sx,{children:[x.jsx(ax,{children:"名字"}),x.jsx(ax,{children:t?.name})]})}),x.jsxs(ne,{children:[x.jsxs(sx,{children:[x.jsx(U,{children:"配置"}),x.jsx(U,{style:{whiteSpace:"pre-wrap"},children:t?.config})]}),x.jsxs(sx,{children:[x.jsx(U,{children:"状态"}),x.jsx(U,{children:t?.status})]}),n&&t?.table&&x.jsxs(sx,{children:[x.jsx(U,{children:"表格"}),x.jsx(U,{children:x.jsx(ja,{...t.table})})]}),x.jsxs(sx,{children:[x.jsx(U,{children:"结果"}),x.jsx(U,{style:{whiteSpace:"pre-wrap"},children:t?.log})]})]})]})})})}function wa({url:t}){const e=t.includes("daily_result")?ua:ma;return x.jsx(e,{url:t})}function Ca({url:t}){return x.jsxs(zt,{lazyMount:!0,variant:"subtle",defaultValue:"text",children:[x.jsxs(At,{children:[x.jsx(Hx,{value:"text",children:"文本"}),x.jsx(Hx,{value:"image",children:"图片"})]}),x.jsx(qx,{value:"text",children:x.jsx(wa,{url:t+"?text=true"})}),x.jsx(qx,{value:"image",children:x.jsx(Ox,{src:t,width:"100%",height:"100%"})})]})}function va({resultInfo:t}){return x.jsx(Cs,{collapsible:!0,lazyMount:!0,children:t.map((n,e)=>x.jsxs(vs,{value:String(e),children:[x.jsxs(Ss,{children:[n.status=="成功"||n.status=="跳过"?x.jsx(On,{}):n.status=="警告"||n.status=="中止"?x.jsx(Dn,{}):x.jsx(Mn,{}),x.jsxs(R,{as:"span",flex:"1",textAlign:"left",children:[n.time," ",n.alias]}),x.jsx(ks,{})]}),x.jsx(Rs,{pb:4,children:x.jsx(Ca,{url:n.url})})]},e))})}const pe=B.create(({alias:t,title:n,resultInfo:e})=>{const s=px();return x.jsxs(cx,{blockScrollOnMount:!1,size:"full",closeOnOverlayClick:!1,isOpen:s.visible,onClose:s.hide,children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsxs(ix,{children:[t,"的",n,"结果"]}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx(va,{resultInfo:e})})]})]})}),q=v.forwardRef(function(n,e){const{showArrow:s,children:a,disabled:c,portalled:r,content:l,contentProps:o,portalRef:i,...f}=n;return c?a:x.jsxs(Is,{...f,children:[x.jsx(Ps,{asChild:!0,children:a}),x.jsx(Ex,{disabled:!r,container:i,children:x.jsx(zs,{children:x.jsxs(As,{ref:e,...o,children:[s&&x.jsx(Ts,{}),l]})})})]})}),Vx=B.create(()=>{const t=px(),{handleSubmit:n,register:e,watch:s,formState:{isSubmitting:a,errors:c}}=xe(),r=s("password"),l=o=>{t.resolve(o.password)};return x.jsxs(cx,{closeOnOverlayClick:!1,isOpen:t.visible,onClose:t.hide,children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"重置密码"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx("form",{onSubmit:n(l),children:x.jsxs(E,{gap:4,children:[x.jsx(tx,{invalid:!!c.password,label:"输入新密码",errorText:c.password?.message,children:x.jsx(Z,{type:"password",placeholder:"5位以上",...e("password",{required:"请输入密码",minLength:{value:5,message:"密码长度至少 5 位"}})})}),x.jsx(tx,{invalid:!!c.passwordRepeat,label:"再次输入新密码",errorText:c.passwordRepeat?.message,children:x.jsx(Z,{type:"password",placeholder:"与上面一致",...e("passwordRepeat",{required:"请确认密码",validate:o=>o===r||"两次输入的密码不一致"})})}),x.jsx(P,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},loading:a,type:"submit",children:"重置密码"})]})})})]})]})});function Sa(t=0){const[n,e]=v.useState(t);return[n,()=>e(c=>c+1),()=>e(c=>c-1)]}const de=B.create(({sourceAccount:t})=>{const n=px(),[e,s]=v.useState([]),[a,c]=v.useState([]),[r,l]=v.useState([]),[o,i]=v.useState([]),[f,p]=v.useState(!1),[w,d]=v.useState(!1);v.useEffect(()=>{n.visible&&t&&(async()=>{p(!0);try{const S=(await Nt())?.accounts?.map(F=>F.name).filter(F=>F!==t)||[];s(S);const T=await ft(t);c(T?.area||[]),l([]),i([])}catch(_){m.create({type:"error",title:"获取数据失败",description:String(_)})}finally{p(!1)}})()},[n.visible,t]);const b=y=>{r.includes(y)?l(_=>_.filter(S=>S!==y)):l(_=>[..._,y])},u=y=>{o.includes(y)?i(_=>_.filter(S=>S!==y)):i(_=>[..._,y])},C=()=>{r.length===e.length?l([]):l([...e])},I=()=>{o.length===a.length?i([]):i(a.map(y=>y.key))},g=async()=>{if(r.length===0||o.length===0){m.create({type:"warning",title:"请选择要同步的账号和配置项"});return}d(!0);let y=0,_=0;try{let S={};for(const T of o){const F=await Gx(t,T);F.config&&(S={...S,...F.config})}for(const T of r)try{Object.keys(S).length>0&&await ut(T,S),y++}catch(F){console.error(`Error syncing to ${T}`,F),_++}_===0?(m.create({type:"success",title:`成功同步到 ${y} 个账号`}),n.hide()):m.create({type:"warning",title:"同步部分完成",description:`成功: ${y}, 失败: ${_}`})}catch(S){m.create({type:"error",title:"同步过程中发生错误",description:S?.message||String(S)})}finally{d(!1)}};return x.jsxs(cx,{isOpen:n.visible,onClose:n.hide,scrollBehavior:"inside",size:"xl",children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsxs(ix,{children:["配置同步 - 来源: ",t]}),x.jsx(lx,{children:x.jsxs(E,{gap:6,children:[x.jsxs(R,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"bg.panel",borderColor:"border.subtle",children:[x.jsxs($,{justify:"space-between",mb:3,borderBottomWidth:"1px",pb:2,children:[x.jsx(A,{fontWeight:"bold",children:"1. 选择目标账号"}),x.jsx(V,{checked:e.length>0&&r.length===e.length,onCheckedChange:C,colorPalette:"blue",children:"全选"})]}),x.jsx(R,{maxH:"200px",overflowY:"auto",children:x.jsxs(pt,{templateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:3,children:[e.map(y=>x.jsx(V,{checked:r.includes(y),onCheckedChange:()=>b(y),size:"sm",colorPalette:"blue",children:y},y)),e.length===0&&x.jsx(A,{color:"gray.500",fontSize:"sm",children:"无其他账号可选"})]})})]}),x.jsxs(R,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"bg.panel",borderColor:"border.subtle",children:[x.jsxs($,{justify:"space-between",mb:3,borderBottomWidth:"1px",pb:2,children:[x.jsx(A,{fontWeight:"bold",children:"2. 选择配置区域"}),x.jsx(V,{checked:a.length>0&&o.length===a.length,onCheckedChange:I,colorPalette:"green",children:"全选"})]}),x.jsxs(pt,{templateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:3,children:[a.map(y=>x.jsx(V,{checked:o.includes(y.key),onCheckedChange:()=>u(y.key),size:"sm",colorPalette:"green",children:y.name},y.key)),a.length===0&&x.jsx(A,{color:"gray.500",fontSize:"sm",children:"无配置区域"})]})]})]})}),x.jsxs(it,{children:[x.jsx(P,{variant:"ghost",onClick:n.hide,mr:3,children:"取消"}),x.jsx(P,{colorPalette:"blue",onClick:g,loading:w||f,disabled:r.length===0||o.length===0,children:"开始同步"})]}),x.jsx(dx,{})]})]})}),Lx=new Map;function ka(){const[t,n]=v.useState(),e=J(),s=J(),a=J(),c=J(),[r,l]=v.useState(""),[o,i,f]=Sa(),[p,w]=v.useState(()=>{const j=localStorage.getItem("accountViewMode");return j?j==="table":!1}),[d,b]=v.useState([]),u=()=>{B.show(da,{}).then(()=>{localStorage.setItem("readme2","true")}).catch(()=>{localStorage.setItem("readme2","true")})};v.useEffect(()=>{localStorage.getItem("readme2")||u()},[]),v.useEffect(()=>{Lx.clear(),Nt().then(j=>{n(j)}).catch(j=>{m.create({type:"error",title:j?.response?.data||"网络错误"})})},[e.open]);const C=j=>{yt({default_account:j}).then(O=>{n({...t,default_account:j}),m.create({type:"success",title:"设置默认账号成功",description:O})}).catch(O=>{m.create({type:"error",title:"设置默认账号失败",description:O?.response?.data||"网络错误"})})},I=()=>{B.show(Vx,{}).then(j=>{yt({password:j}).then(O=>{m.create({type:"success",title:"修改密码成功",description:O}),B.hide(Vx).then(()=>{}).catch(()=>{})}).catch(O=>{m.create({type:"error",title:"修改密码失败",description:O?.response?.data||"网络错误"})})}).catch(()=>{})},g=j=>{n(O=>{if(!O?.accounts)return O;const gx=O.accounts.map(ht=>ht.name===j.name?j:ht);return{...O,accounts:gx}})},y=()=>{if(p&&d.length>0)for(const j of d){const O=Lx.get(j);O&&O(!1)}else for(const j of Lx.values())j(!1)},_=j=>{b(O=>O.includes(j)?O.filter(gx=>gx!==j):[...O,j])},S=()=>{d.length===t?.accounts?.length?b([]):b(t?.accounts?.map(j=>j.name)??[])},T=()=>{if(s.open){if(!r||r.trim()===""){m.create({type:"error",title:"创建账号失败",description:"账号昵称不能为空"});return}Ya(r).then(j=>{m.create({type:"success",title:"创建账号成功",description:j}),s.onToggle(),l(""),e.onToggle()}).catch(j=>{m.create({type:"error",title:"创建账号失败",description:j?.response?.data||"网络错误"})})}else s.onToggle()},F=j=>{const O=j.target.files?.[0];O&&Va(O).then(gx=>{m.create({type:"success",title:"导入账号成功",description:gx}),e.onToggle()}).catch(gx=>{m.create({type:"error",title:"导入账号失败",description:gx?.response?.data||"网络错误"})})},H=$x.useRef(null),vx=Je(),re=()=>{Qa().then(async j=>{m.create({type:"success",title:"删除QQ成功",description:j}),a.onToggle(),await vx({to:Wx.to})}).catch(j=>{m.create({type:"error",title:"删除QQ失败",description:j?.response?.data||"网络错误"})})},k=()=>{Ja().then(j=>{m.create({type:"success",title:"清除账号成功",description:j}),c.onToggle(),e.onToggle()}).catch(j=>{m.create({type:"error",title:"清除账号失败",description:j?.response?.data||"网络错误"})})},L=$x.useRef(null);return x.jsxs(E,{gap:4,h:"full",w:"full",p:4,position:"relative",zIndex:1,children:[x.jsx(ux,{variant:"elevated",bg:"bg.glass",backdropFilter:"blur(12px)",shadow:"sm",borderRadius:"2xl",borderWidth:"1px",borderColor:"border.subtle",children:x.jsx(hx,{py:2,px:4,children:x.jsxs(D,{justify:"space-between",align:"center",wrap:"wrap",gap:2,children:[x.jsx(R,{children:x.jsx(A,{fontSize:"md",fontWeight:"bold",children:t?`欢迎回来, ${t.qq}`:x.jsx(ex,{height:"20px",width:"100px"})})}),x.jsxs($,{gap:2,children:[x.jsxs(P,{size:"xs",variant:"surface",colorPalette:"teal",onClick:u,children:[x.jsx(Wn,{})," 使用须知"]}),x.jsxs(P,{size:"xs",variant:"surface",colorPalette:"blue",onClick:I,children:[x.jsx(En,{})," 修改密码"]}),x.jsxs(P,{size:"xs",variant:"surface",colorPalette:"red",onClick:a.onOpen,children:[x.jsx(Ct,{})," 注销QQ"]})]})]})})}),x.jsx(Mx,{leastDestructiveRef:H,isOpen:a.open,onClose:a.onClose,title:"删除QQ",body:`确定删除QQ${t?.qq}吗？`,onConfirm:re,children:" "}),x.jsxs(D,{bg:"bg.panel",p:2,borderRadius:"xl",shadow:"sm",borderWidth:"1px",borderColor:"border.subtle",align:"center",wrap:"wrap",gap:2,children:[x.jsxs($,{gap:2,children:[x.jsxs(P,{size:"sm",colorPalette:"orange",variant:"ghost",onClick:y,loading:o!=0,children:[x.jsx(ue,{})," ",p&&d.length>0?`清选择(${d.length})`:"清理全部"]}),x.jsxs(P,{as:Tx,size:"sm",colorPalette:"blue",variant:"ghost",to:`${bx.to||""}BATCH_RUNNER`,loading:o!=0,children:[x.jsx(Bn,{})," 批量运行"]})]}),x.jsx(Os,{}),x.jsxs($,{gap:2,children:[x.jsxs(R,{bg:"bg.subtle",p:1,borderRadius:"md",display:"flex",children:[x.jsx(q,{content:"表格视图",children:x.jsx(Y,{"aria-label":"List view",size:"xs",variant:p?"solid":"ghost",colorPalette:p?"blue":"gray",onClick:()=>{w(!0),localStorage.setItem("accountViewMode","table")},children:x.jsx(Ln,{})})}),x.jsx(q,{content:"卡片视图",children:x.jsx(Y,{"aria-label":"Grid view",size:"xs",variant:p?"ghost":"solid",colorPalette:p?"gray":"blue",onClick:()=>{w(!1),localStorage.setItem("accountViewMode","card")},children:x.jsx(Fn,{})})})]}),p&&d.length===1&&x.jsxs($,{gap:1,separator:x.jsx(R,{w:"1px",h:"15px",bg:"border.subtle"}),children:[x.jsx(q,{content:`将其他账号配置同步为 ${d[0]} 的配置`,children:x.jsxs(Y,{"aria-label":"Sync configuration",size:"sm",variant:"ghost",colorPalette:"teal",onClick:()=>{B.show(de,{sourceAccount:d[0]})},children:[" ",x.jsx(he,{})," "]})}),x.jsx(q,{content:`将 ${d[0]} 设为默认账号`,children:x.jsxs(Y,{"aria-label":"Set as default",size:"sm",variant:"ghost",colorPalette:"purple",onClick:()=>C(d[0]),children:[" ",x.jsx(Un,{})," "]})})]}),x.jsxs($,{gap:1,children:[t?.clan&&x.jsx(q,{content:"导入账号 (TSV)",children:x.jsxs(Y,{"aria-label":"Import accounts",size:"sm",variant:"outline",onClick:()=>L.current?.click(),children:[" ",x.jsx($n,{})," "]})}),x.jsx(Z,{ref:L,type:"file",accept:".tsv",onChange:F,onClick:j=>{j.target.value=""},display:"none"}),x.jsx(q,{content:p&&d.length>0?`删除选中(${d.length})`:"删除全部",children:x.jsxs(Y,{"aria-label":"Delete selected accounts",size:"sm",variant:"outline",colorPalette:"red",onClick:()=>{p&&d.length>0?window.confirm(`确定删除选中的 ${d.length} 个账号吗？`)&&Promise.all(d.map(j=>Ht(j))).then(()=>{m.create({type:"success",title:"删除成功"}),b([]),e.onToggle()}).catch(j=>m.create({type:"error",title:"删除失败",description:j?.response?.data||"网络错误"})):c.onOpen()},children:[" ",x.jsx(Nn,{})," "]})}),x.jsx(R,{position:"relative",children:x.jsx(q,{content:s.open?"取消创建":"创建新账号",children:x.jsx(Y,{"aria-label":s.open?"Confirm creation":"Create account",size:"sm",variant:(s.open,"solid"),colorPalette:s.open?"red":"green",onClick:()=>{s.open&&!r?s.onToggle():s.open&&r?T():s.onToggle()},children:s.open?x.jsx(vt,{}):x.jsx(Hn,{})})})})]})]})]}),s.open&&x.jsxs(D,{bg:"bg.panel",p:4,borderRadius:"xl",shadow:"sm",borderWidth:"1px",borderColor:"green.subtle",align:"center",gap:4,animation:"fade-in 0.2s",children:[x.jsx(A,{fontWeight:"bold",whiteSpace:"nowrap",children:"新账号名称:"}),x.jsx(Z,{autoFocus:!0,placeholder:"请输入游戏账号昵称...",value:r,onChange:j=>l(j.target.value),onKeyDown:j=>{j.key==="Enter"&&T()}}),x.jsx(P,{size:"sm",colorPalette:"green",onClick:T,children:"创建"})]}),x.jsx(Mx,{leastDestructiveRef:H,isOpen:c.open,onClose:c.onClose,title:"删除所有账号",body:"确定删除所有账号吗？",onConfirm:k,children:" "}),p?x.jsx(R,{flex:1,overflow:"auto",borderRadius:"xl",children:x.jsxs(ee,{variant:"outline",colorPalette:"blue",size:"sm",bg:"bg.panel",borderRadius:"xl",boxShadow:"sm",ml:"0",mr:"auto",children:[x.jsx(te,{position:"sticky",top:0,bg:"bg.subtle",zIndex:1,boxShadow:"sm",children:x.jsxs(sx,{children:[x.jsx(ax,{px:3,fontSize:"md",py:4,fontWeight:"bold",width:"5%",children:x.jsx(V,{checked:d.length>0&&d.length<(t?.accounts?.length??0)?"indeterminate":d.length>0&&d.length===t?.accounts?.length,onCheckedChange:S,colorPalette:"blue"})}),x.jsx(ax,{px:0,fontSize:"md",py:4,fontWeight:"bold",width:"25%",minWidth:"80px",children:"账号"}),x.jsx(ax,{px:3,fontSize:"md",py:4,fontWeight:"bold",width:"30%",children:"最近记录"}),x.jsx(ax,{px:3,fontSize:"md",py:4,fontWeight:"bold",width:"30%",children:"操作"})]})}),x.jsx(ne,{children:t?t?.accounts?.map(j=>x.jsx(gt,{account:j,onToggle:e.onToggle,increaseCount:i,decreaseCount:f,updateAccountInfo:g,isTableView:p,isSelected:d.includes(j.name),onToggleSelect:()=>_(j.name),defaultAccount:t?.default_account,onOpenSyncConfig:O=>{B.show(de,{sourceAccount:O})}},j.name)):Array.from({length:5}).map((j,O)=>x.jsxs(sx,{bg:"transparent",children:[x.jsx(U,{px:3,py:2,children:x.jsx(ex,{height:"20px",width:"20px"})}),x.jsx(U,{px:0,py:2,children:x.jsx(ex,{height:"20px",width:"80%"})}),x.jsx(U,{px:3,py:2,children:x.jsx(ex,{height:"20px",width:"60%"})}),x.jsx(U,{px:3,py:2,children:x.jsx(ex,{height:"32px",width:"100%"})})]},O))})]})}):x.jsx(ra,{onValueChange:j=>C(j.value||""),value:t?.default_account,flex:1,overflow:"auto",p:1,children:x.jsx(E,{children:x.jsx(at,{gap:4,templateColumns:"repeat(auto-fill, minmax(280px, 1fr))",children:t?t?.accounts?.map(j=>x.jsx(gt,{account:j,onToggle:e.onToggle,increaseCount:i,decreaseCount:f,updateAccountInfo:g,isTableView:p,isSelected:d.includes(j.name),onToggleSelect:()=>_(j.name),onOpenSyncConfig:O=>{B.show(de,{sourceAccount:O})}},j.name)):Array.from({length:4}).map((j,O)=>x.jsxs(ux,{bg:"bg.panel",borderRadius:"2xl",shadow:"sm",children:[x.jsx(wx,{children:x.jsx(ex,{height:"24px",width:"50%"})}),x.jsx(hx,{children:x.jsx(ia,{noOfLines:3,gap:4})}),x.jsx(ct,{children:x.jsx(ex,{height:"32px",width:"100%"})})]},O))})})})]})}function gt({account:t,onToggle:n,increaseCount:e,decreaseCount:s,updateAccountInfo:a,isTableView:c=!1,isSelected:r=!1,onToggleSelect:l,defaultAccount:o,onOpenSyncConfig:i}){const f=J(),p=t.name,w=J(),d=async()=>{f.onOpen(),e(),m.create({type:"info",title:`开始为${p}清理日常...`});try{const g=await Ka(p);m.create({type:"success",title:`${p}清日常成功`}),a(g)}catch(g){m.create({type:"error",title:`${p}清日常失败`,description:g?.response?.data||"网络错误"})}finally{f.onClose(),s()}};Lx.set(t.name,d);const b=()=>{Ht(p).then(g=>{m.create({type:"success",title:"删除账号成功",description:g}),n()}).catch(g=>{m.create({type:"error",title:"删除账号失败",description:g?.response?.data||"网络错误"})})},u=()=>{m.create({type:"info",title:`正在获取${p}的日常结果...`}),Za(p).then(async g=>{m.create({type:"success",title:"获取日常结果成功"}),await B.show(pe,{alias:p,title:"日常",resultInfo:g})}).catch(async g=>{m.create({type:"error",title:"获取日常结果失败",description:await(g?.response?.data).text()||"网络错误"})})},C=$x.useRef(null),I=()=>{let g="red",y=x.jsx(Ct,{}),_="未知";return t.daily_clean_time.status==="成功"?(g="green",y=x.jsx(vt,{}),_="完成"):t.daily_clean_time.status==="警告"&&(g="orange",y=x.jsx(Bx,{}),_="警告"),x.jsxs(mx,{colorPalette:g,variant:"subtle",children:[x.jsx(Ds,{children:y}),x.jsxs(yx,{children:[_," ",t.daily_clean_time.time]})]})};return c?x.jsxs(sx,{bg:"bg.panel",_hover:{bg:"bg.muted",transition:"background-color 0.2s"},children:[x.jsx(U,{px:3,py:3,width:"50px",children:x.jsx(V,{checked:r,onCheckedChange:l,colorPalette:"blue"})}),x.jsx(U,{px:0,py:3,children:x.jsxs($,{gap:2,children:[x.jsx(R,{w:"32px",h:"32px",bg:"blue.subtle",color:"blue.fg",borderRadius:"full",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"sm",children:p.charAt(0).toUpperCase()}),x.jsxs(E,{gap:0,children:[x.jsx(A,{fontWeight:"bold",fontSize:"sm",children:p}),x.jsxs($,{gap:1,children:[o===t.name&&x.jsx(mx,{size:"sm",colorPalette:"purple",variant:"solid",children:x.jsx(yx,{children:"默认"})}),t.clan_forbid&&x.jsx(mx,{size:"sm",colorPalette:"red",variant:"solid",children:x.jsx(yx,{children:"公会战禁用"})})]})]})]})}),x.jsx(U,{px:3,py:3,children:x.jsx(I,{})}),x.jsx(U,{px:3,py:3,children:x.jsxs($,{gap:1,children:[x.jsx(q,{content:"配置",children:x.jsxs(Y,{"aria-label":"Settings",as:Tx,to:`${bx.to||""}${t.name}`,size:"xs",variant:"ghost",colorPalette:"blue",children:[" ",x.jsx(bt,{})," "]})}),x.jsx(q,{content:"清理日常",children:x.jsxs(Y,{"aria-label":"Clean Daily",size:"xs",variant:"ghost",colorPalette:"orange",onClick:d,loading:f.open,children:[" ",x.jsx(ue,{})," "]})}),x.jsx(q,{content:"同步配置",children:x.jsxs(Y,{"aria-label":"Sync Config",size:"xs",variant:"ghost",colorPalette:"teal",onClick:()=>i&&i(p),loading:f.open,children:[" ",x.jsx(he,{})," "]})}),x.jsx(q,{content:"结果",children:x.jsxs(Y,{"aria-label":"View Results",size:"xs",variant:"ghost",colorPalette:"green",onClick:u,loading:f.open,children:[" ",x.jsx(Bx,{})," "]})})]})})]},p):x.jsxs(ux,{bg:"bg.panel",shadow:"sm",borderRadius:"2xl",borderWidth:"1px",borderColor:"border.subtle",transition:"all 0.2s",_hover:{shadow:"lg",transform:"translateY(-2px)",borderColor:"blue.focusRing"},children:[x.jsx(wx,{pb:2,children:x.jsxs(D,{justify:"space-between",align:"start",children:[x.jsx(E,{gap:1,children:x.jsxs($,{children:[x.jsx(oa,{value:p,colorPalette:"purple"}),x.jsx(A,{fontWeight:"bold",fontSize:"lg",lineHeight:"1.2",children:p}),t.clan_forbid&&x.jsx(mx,{size:"sm",colorPalette:"red",variant:"subtle",children:x.jsx(yx,{children:"禁用"})})]})}),x.jsx(Mx,{leastDestructiveRef:C,isOpen:w.open,onClose:w.onClose,title:"删除账号",body:`确定删除账号${p}吗？`,onConfirm:b,children:" "}),x.jsx(Y,{size:"xs",variant:"ghost",colorPalette:"gray","aria-label":"Delete",onClick:w.onOpen,_hover:{bg:"red.subtle",color:"red.fg"},children:x.jsx(ot,{})})]})}),x.jsx(hx,{py:2,children:x.jsx(E,{gap:3,mt:2,children:x.jsxs(R,{bg:"bg.subtle",p:2,borderRadius:"lg",children:[x.jsxs(D,{justify:"space-between",align:"center",mb:1,children:[x.jsx(A,{fontSize:"xs",color:"fg.muted",children:"上次运行"}),x.jsx(A,{fontSize:"xs",fontWeight:"bold",children:t.daily_clean_time.time})]}),x.jsxs(D,{justify:"space-between",align:"center",children:[x.jsx(A,{fontSize:"xs",color:"fg.muted",children:"状态"}),x.jsx(mx,{size:"sm",colorPalette:t.daily_clean_time.status==="成功"?"green":t.daily_clean_time.status==="警告"?"orange":"red",children:x.jsx(yx,{children:t.daily_clean_time.status})})]})]})})}),x.jsx(ct,{pt:2,children:x.jsxs($,{gap:0,w:"full",justify:"space-between",children:[x.jsx(q,{content:"详细配置",children:x.jsxs(Y,{"aria-label":"Settings",flex:"1",variant:"ghost",colorPalette:"blue",as:Tx,to:bx.to+p,children:[" ",x.jsx(bt,{})," "]})}),x.jsx(q,{content:"立即清理",children:x.jsxs(Y,{"aria-label":"Clean Daily",flex:"1",variant:"ghost",colorPalette:"orange",onClick:d,loading:f.open,children:[" ",x.jsx(ue,{})," "]})}),x.jsx(q,{content:"同步配置",children:x.jsxs(Y,{"aria-label":"Sync Config",flex:"1",variant:"ghost",colorPalette:"teal",onClick:()=>i&&i(p),loading:f.open,children:[" ",x.jsx(he,{})," "]})}),x.jsx(q,{content:"运行结果",children:x.jsxs(Y,{"aria-label":"View Result",flex:"1",variant:"ghost",colorPalette:"green",onClick:u,loading:f.open,children:[" ",x.jsx(Bx,{})," "]})})]})})]},p)}const bx=jx("/daily/_sidebar/account/")({component:ka});(function(t,n){const e={_0x5d5985:155,_0x5ef459:181,_0x567245:142,_0x28c217:150},s=Q,a=t();for(;;)try{if(-parseInt(s(186))/1*(parseInt(s(152))/2)+-parseInt(s(145))/3*(parseInt(s(175))/4)+-parseInt(s(e._0x5d5985))/5*(parseInt(s(159))/6)+parseInt(s(e._0x5ef459))/7+parseInt(s(e._0x567245))/8+parseInt(s(184))/9*(-parseInt(s(167))/10)+-parseInt(s(164))/11*(-parseInt(s(e._0x28c217))/12)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Yx,113728+1*35722);const Ra=function(){let t=!0;return function(n,e){const s=t?function(){const a=Q;if(e){const c=e[a(171)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),_e=Ra(void 0,function(){const t={_0x229717:139,_0x1661c8:154,_0x37045e:151,_0x328843:154},n=Q,e={};e[n(151)]=n(t._0x229717)+"+$";const s=e;return _e.toString()[n(t._0x1661c8)](s[n(t._0x37045e)])[n(174)]()[n(146)+"r"](_e)[n(t._0x328843)]("(((.+)+)+)+$")});_e();const Sx=function(){let t=!0;return function(n,e){const s=t?function(){const a=Q;if(e){const c=e[a(171)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),Ia=Sx(void 0,function(){const t={_0x2f3460:172,_0x1179c5:156,_0x2ac5d5:182,_0xd5a49b:166,_0x36bc09:137,_0x34a16f:153,_0x1640a6:149,_0x270ace:163,_0x36dcd3:143,_0x260d8e:187},n=Q,e={tuXUn:function(r,l){return r(l)},bzrrr:function(r,l){return r+l},XxMGJ:n(t._0x2f3460)+"nction() ",pvmoj:n(180),sWfwK:"warn",NuPSV:"info",RGIsv:n(161),duVFz:function(r,l){return r<l}};let s;try{s=e[n(168)](Function,e.bzrrr(e[n(t._0x1179c5)](e[n(147)],n(t._0x2ac5d5)+n(t._0xd5a49b)+n(177)+" )"),");"))()}catch{s=window}const a=s[n(t._0x36bc09)]=s[n(t._0x36bc09)]||{},c=[e[n(185)],e[n(t._0x34a16f)],e[n(183)],n(t._0x1640a6),n(165),e[n(t._0x270ace)],n(t._0x36dcd3)];for(let r=-1028*-2+8331+-10387;e.duVFz(r,c[n(157)]);r++){const l=Sx[n(146)+"r"][n(148)].bind(Sx),o=c[r],i=a[o]||l;l[n(179)]=Sx[n(187)](Sx),l[n(174)]=i.toString[n(t._0x260d8e)](i),a[o]=l}});function Q(t,n){t=t-(2100+-37*-1+-2e3);const e=Yx();let s=e[t];if(Q.zMAvhg===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};Q.BEaKnu=a,Q.OtQkWc={},Q.zMAvhg=!0}const c=e[0],r=t+c,l=Q.OtQkWc[r];if(l)s=l;else{const o=function(i){this.KNWUuM=i,this.fLUWuP=[1,0,0],this.EiluYq=function(){return"newState"},this.XmRXJb="\\w+ *\\(\\) *{\\w+ *",this.RXYvWn=`['|"].+['|"];? *}`};o.prototype.WvbUzS=function(){const i=new RegExp(this.XmRXJb+this.RXYvWn),f=i.test(this.EiluYq.toString())?--this.fLUWuP[1]:--this.fLUWuP[-4547*1+-2847+2*3697];return this.HPWunv(f)},o.prototype.HPWunv=function(i){return~i?this.cbDrVY(this.KNWUuM):i},o.prototype.cbDrVY=function(i){for(let f=4643+218*23+261*-37,p=this.fLUWuP.length;f<p;f++)this.fLUWuP.push(Math.round(Math.random())),p=this.fLUWuP.length;return i(this.fLUWuP[208*30+7*175+-7465])},new o(Q).WvbUzS(),s=Q.BEaKnu(s),Q.OtQkWc[r]=s}return s}Ia();async function Pa(t,n){const e={_0x28cd84:169,_0x5cf487:141,_0x3b766a:178},s=Q,a={};a[s(e._0x28cd84)]=s(e._0x5cf487);const c=a,r={};return r.qq=t,r[s(e._0x3b766a)]=n,(await W.post(c.kejye,r)).data}async function za(){const t=Q;return(await W[t(158)](t(144)))[t(140)]}function Yx(){const t=["whHnr0O","ChjVDg90ExbL","zxjYB3i","mtyZmZjfC09eCwK","CKPPre8","nM1oz0HmDW","C1DMD0S","C2vHCMnO","mtborxzTB1m","yNPYCNi","BgvUz3rO","Cg9ZDa","mZK0nJi2vMXyA3j1","y2vwuwK","DgfIBgu","z2v0","uKDjC3y","ndGWn0v4AejbqG","zxHJzxb0Aw9U","y3rVCIGICMv0Dq","nteWsw1NuLbU","Dhvyvw4","A2vQEwu","qvf5Exq","yxbWBhK","CMv0DxjUicHMDq","CgLU","Dg9tDhjPBMC","mJeYEg5svvfj","l2XVz2LUl3bPBG","CM4GDgHPCYiPka","CgfZC3DVCMq","x19WCM90B19F","Bg9N","mJGWmdK4wLrvsfry","E30Uy29UC3rYDq","tNvqu1y","ndKXntHZDxjZzKi","ChzTB2O","ntGZodv6tfrOrMe","yMLUza","y29UC29Szq","l2XVz2LUl2vTyq","kcGOlISPkYKRkq","zgf0yq","l2XVz2LUl3fX","mtuYmZy5nNfXBxbMzG","DhjHy2u","l2XVz291Da","nteYne5Sww1ysq","y29UC3rYDwn0BW"];return Yx=function(){return t},Yx()}(function(t,n){const e={_0x1013eb:452,_0xcb0071:421,_0x4bfb88:434,_0x4994b6:430,_0x2060d0:415,_0x45fce6:426,_0x4590c5:416,_0xffb350:409},s=G,a=t();for(;;)try{if(-parseInt(s(e._0x1013eb))/1*(-parseInt(s(423))/2)+parseInt(s(450))/3*(parseInt(s(e._0xcb0071))/4)+-parseInt(s(e._0x4bfb88))/5*(-parseInt(s(440))/6)+-parseInt(s(e._0x4994b6))/7+parseInt(s(e._0x2060d0))/8*(-parseInt(s(e._0x45fce6))/9)+parseInt(s(427))/10+-parseInt(s(e._0x4590c5))/11*(parseInt(s(e._0xffb350))/12)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Qx,150433);const Aa=function(){const t={_0x549084:424};let n=!0;return function(e,s){const a=n?function(){const c=G;if(s){const r=s[c(t._0x549084)](e,arguments);return s=null,r}}:function(){};return n=!1,a}}(),ge=Aa(void 0,function(){const t={_0x51f891:444,_0x233010:441,_0x3d33a6:449,_0x3013c2:435},n=G,e={};e[n(441)]=n(411)+"+$";const s=e;return ge[n(t._0x51f891)]().search(s[n(t._0x233010)]).toString()[n(t._0x3d33a6)+"r"](ge)[n(t._0x3013c2)](s[n(441)])});ge();const kx=function(){const t={_0x3b2b38:424};let n=!0;return function(e,s){const a=n?function(){const c=G;if(s){const r=s[c(t._0x3b2b38)](e,arguments);return s=null,r}}:function(){};return n=!1,a}}(),Ta=kx(void 0,function(){const t={_0x4e9e8c:428,_0x586624:432,_0x563f59:419,_0x1cdffd:451,_0x1e47bb:443,_0x16f674:412,_0xeb3b77:420,_0x3e2d7f:437,_0x466878:438,_0x3006c9:425},n={_0x252b82:436,_0x13df35:422},e=G,s={ZqeEC:function(o,i){return o(i)},MyiZd:function(o,i){return o+i},UeUSf:e(t._0x4e9e8c)+e(t._0x586624),Byojk:"{}.constru"+e(431)+e(t._0x563f59)+" )",Mewwk:function(o){return o()},RMaUo:e(442),nZwLx:e(t._0x1cdffd),GIYLq:e(445),mzEYX:e(439),eGrPd:"exception",UGeaN:e(t._0x1e47bb),UcEPV:"trace",rZJDN:function(o,i){return o<i}},a=function(){const o=e;let i;try{i=s[o(n._0x252b82)](Function,s[o(414)](s[o(n._0x13df35)]+s[o(410)],");"))()}catch{i=window}return i},c=s.Mewwk(a),r=c[e(412)]=c[e(t._0x16f674)]||{},l=[s[e(429)],s[e(t._0xeb3b77)],s.GIYLq,s.mzEYX,s[e(447)],s[e(t._0x3e2d7f)],s[e(446)]];for(let o=-9233+7*1319;s[e(413)](o,l.length);o++){const i=kx[e(449)+"r"][e(t._0x466878)].bind(kx),f=l[o],p=r[f]||i;i[e(t._0x3006c9)]=kx[e(433)](kx),i[e(444)]=p[e(444)].bind(p),r[f]=i}});function Qx(){const t=["y29UC29Szq","CLPkre4","txLPwMq","ofvSu1nxAG","mtCWmdG5n2jRB1Lkwa","CgfZC3DVCMq","l3jLz2LZDgvY","CM4GDgHPCYiPka","BLP3thG","mJi4BLHHwgv0","vwvvu2y","mKjmyK5gyq","yxbWBhK","x19WCM90B19F","ndG4ode3yNnuEe5v","mJyYmJm0mhHJyxncEq","CMv0DxjUicHMDq","uK1Hvw8","mZCYnte5se5VB3Hs","y3rVCIGICMv0Dq","BMn0Aw9UkcKG","yMLUza","mtaYoduWB29osKnM","C2vHCMnO","wNfLrum","vuDLyu4","ChjVDg90ExbL","zxjYB3i","nJznzLrqtK8","u2nuwLm","Bg9N","DgfIBgu","Dg9tDhjPBMC","Aw5MBW","vwnfufy","zuDYugq","zgf0yq","y29UC3rYDwn0BW","mJy5n3Pku05tyG","D2fYBG","mtGYmdK3BgL6CNnK","mZzZrLHuBgu","qNLVAMS","kcGOlISPkYKRkq"];return Qx=function(){return t},Qx()}Ta();function G(t,n){t=t-(-5019+-4*2242+2*7198);const e=Qx();let s=e[t];if(G.rUIGgE===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};G.emnNci=a,G.GTwQeL={},G.rUIGgE=!0}const c=e[-6811+1*9719+1454*-2],r=t+c,l=G.GTwQeL[r];if(l)s=l;else{const o=function(i){this.XyHjne=i,this.lMNlXj=[1,0,0],this.pNFKEU=function(){return"newState"},this.BmlXTH="\\w+ *\\(\\) *{\\w+ *",this.JUoLiT=`['|"].+['|"];? *}`};o.prototype.rpvZKo=function(){const i=new RegExp(this.BmlXTH+this.JUoLiT),f=i.test(this.pNFKEU.toString())?--this.lMNlXj[-5790+723*12+-2885*1]:--this.lMNlXj[0];return this.ZMXvFR(f)},o.prototype.ZMXvFR=function(i){return~i?this.qRUBnn(this.XyHjne):i},o.prototype.qRUBnn=function(i){for(let f=-1*-9902+-1326+16*-536,p=this.lMNlXj.length;f<p;f++)this.lMNlXj.push(Math.round(Math.random())),p=this.lMNlXj.length;return i(this.lMNlXj[-9*-353+-1*-9441+-12618])},new o(G).rpvZKo(),s=G.emnNci(s),G.GTwQeL[r]=s}return s}async function Oa(t,n){const e={_0x18ad95:417,_0x5e03db:448},s=G,a={};return a.qq=t,a[s(e._0x18ad95)]=n,(await W.post(s(418),a))[s(e._0x5e03db)]}function Da(){const t=Je(),{handleSubmit:n,register:e,formState:{isSubmitting:s,errors:a}}=xe(),[c,r]=v.useState(localStorage.getItem("remember")==="true"),[l,o]=v.useState(!1),i=w=>{localStorage.setItem("remember",c?"true":"false"),c?(localStorage.setItem("qq",w.qq),localStorage.setItem("password",w.password)):(localStorage.removeItem("qq"),localStorage.removeItem("password"))},f=async w=>{const d=await Pa(w.qq,w.password);i(w),m.create({title:"登录成功",type:"success",description:d}),await t({to:bx.to})},p=async w=>{const d=await Oa(w.qq,w.password);i(w),m.create({title:"注册成功",type:"success",description:d}),await t({to:bx.to})};return x.jsxs(R,{w:"full",children:[x.jsx("form",{onSubmit:n(f),children:x.jsxs(E,{gap:4,children:[x.jsx(tx,{invalid:!!a.qq,label:"QQ",errorText:a.qq?.message,children:x.jsx(Z,{type:"text",...e("qq"),placeholder:"5位以上",defaultValue:localStorage.getItem("qq")})}),x.jsx(tx,{invalid:!!a.password,label:"密码",errorText:a.password?.message,children:x.jsx(Z,{type:"password",...e("password"),placeholder:"8位以上,非QQ密码",defaultValue:localStorage.getItem("password")})}),x.jsxs(E,{gap:10,children:[x.jsxs(E,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[x.jsx(V,{checked:c,onCheckedChange:w=>r(!!w.checked),children:"记住我"}),x.jsx(A,{color:"fg.muted",fontSize:"sm",cursor:"pointer",_hover:{color:"fg.emphasized",textDecoration:"underline"},onClick:()=>o(!0),children:"忘记密码？"})]}),x.jsx(P,{colorPalette:"brand",loading:s,type:"submit",children:"登录"}),x.jsx(P,{colorPalette:"brand",onClick:n(p),children:"注册"})]})]})}),x.jsxs(cx,{isOpen:l,onClose:()=>o(!1),children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"忘记密码"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx(A,{children:"如需重置密码，请联系系统维护人员。"})}),x.jsx(it,{children:x.jsx(P,{onClick:()=>o(!1),children:"我知道了"})})]})]})]})}const je="/daily/assets/autopcr-x7688d1P.svg";function Ma(t){return x.jsx(Sn,{attribute:"class",disableTransitionOnChange:!0,...t})}function Ft(){const{resolvedTheme:t,setTheme:n}=vn();return{colorMode:t,setColorMode:n,toggleColorMode:()=>{n(t==="light"?"dark":"light")}}}const Wx=jx("/daily/login")({component:Ea}),Wa=se`
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
`,jt=se`
  0% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.1); opacity: 0.6; }
  100% { transform: scale(1); opacity: 0.3; }
`;function Ea(){const{toggleColorMode:t,colorMode:n}=Ft();return x.jsxs(D,{h:"100vh",align:"center",justify:"center",bg:"bg.canvas",position:"relative",overflow:"hidden",p:{base:0,md:4},children:[x.jsx(R,{position:"absolute",top:"-10%",left:"-10%",w:"500px",h:"500px",bg:"blue.500",filter:"blur(120px)",opacity:"0.2",rounded:"full",animation:`${jt} 15s infinite ease-in-out`}),x.jsx(R,{position:"absolute",bottom:"-10%",right:"-10%",w:"500px",h:"500px",bg:"purple.500",filter:"blur(120px)",opacity:"0.2",rounded:"full",animation:`${jt} 20s infinite ease-in-out reverse`}),x.jsx(R,{position:"absolute",top:4,right:4,zIndex:10,children:x.jsx(Ms,{fallback:x.jsx(ex,{w:"10",h:"10"}),children:x.jsx(Ke,{variant:"ghost","aria-label":"Toggle color mode",onClick:t,size:"lg",css:{color:"fg.muted",_hover:{color:"fg",bg:"bg.subtle"}},children:n==="light"?x.jsx(St,{}):x.jsx(kt,{})})})}),x.jsxs(D,{w:"full",maxW:"4xl",h:{base:"full",md:"auto"},maxH:{md:"80vh"},bg:"bg.panel",rounded:{base:"none",md:"3xl"},shadow:{base:"none",md:"xl"},overflow:"hidden",flexDir:{base:"column",md:"row"},zIndex:1,borderWidth:{base:"0px",md:"1px"},borderColor:"border.subtle",children:[x.jsxs(D,{flex:"1",bg:"bg.subtle",p:{base:8,md:12},flexDir:"column",justify:"center",align:"center",borderRightWidth:{md:"1px"},borderBottomWidth:{base:"1px",md:"0"},borderColor:"border.subtle",display:{base:"none",md:"flex"},position:"relative",children:[x.jsx(R,{position:"absolute",w:"80%",h:"80%",rounded:"full",bgGradient:"radial(circle, bg.canvas, transparent)",opacity:"0.6",filter:"blur(40px)"}),x.jsx(Ox,{src:je,alt:"autopcr",w:"240px",maxW:"60%",h:"auto",objectFit:"contain",zIndex:1,css:{_dark:{filter:"brightness(0) invert(1)"}},animation:`${Wa} 6s ease-in-out infinite`})]}),x.jsxs(D,{flex:"1",p:{base:6,md:8,lg:10},flexDir:"column",justify:"center",overflowY:"auto",children:[x.jsx(D,{justify:"center",mb:6,display:{base:"flex",md:"none"},children:x.jsx(Ox,{src:je,alt:"autopcr",h:"48px",css:{_dark:{filter:"brightness(0) invert(1)"}}})}),x.jsx(R,{mb:8,textAlign:{base:"center",md:"left"},children:x.jsx(Dx,{size:"2xl",mb:2,children:"欢迎回来"})}),x.jsx(R,{w:"full",children:x.jsx(Da,{})})]})]})]})}const N=K;(function(t,n){const e={_0xac27ce:144,_0x5555f9:156,_0x2baea4:190,_0x262052:127,_0x109254:168},s=K,a=t();for(;;)try{if(parseInt(s(124))/1*(-parseInt(s(162))/2)+-parseInt(s(187))/3+-parseInt(s(e._0xac27ce))/4*(-parseInt(s(194))/5)+parseInt(s(e._0x5555f9))/6*(parseInt(s(118))/7)+parseInt(s(138))/8+-parseInt(s(e._0x2baea4))/9+parseInt(s(e._0x262052))/10*(parseInt(s(e._0x109254))/11)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Jx,-74*2744+-163385+-33961*-24);const Ba=function(){let t=!0;return function(n,e){const s=t?function(){const a=K;if(e){const c=e[a(160)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),me=Ba(void 0,function(){const t={_0x70f284:173,_0x204ccf:122,_0x3098ef:137,_0x19bdf6:128},n=K,e={};e.lBZoF=n(t._0x70f284)+"+$";const s=e;return me.toString()[n(137)](s[n(128)])[n(t._0x204ccf)]()[n(121)+"r"](me)[n(t._0x3098ef)](s[n(t._0x19bdf6)])});me();function K(t,n){t=t-(-200*-44+9587+-18269*1);const e=Jx();let s=e[t];if(K.LklXzx===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};K.BEJldI=a,K.PyhCSn={},K.LklXzx=!0}const c=e[-1*329+-179+-127*-4],r=t+c,l=K.PyhCSn[r];if(l)s=l;else{const o=function(i){this.KMBZJs=i,this.vAwXPP=[1,0,0],this.ManeZv=function(){return"newState"},this.wNgpvI="\\w+ *\\(\\) *{\\w+ *",this.bShJJO=`['|"].+['|"];? *}`};o.prototype.EjiRng=function(){const i=new RegExp(this.wNgpvI+this.bShJJO),f=i.test(this.ManeZv.toString())?--this.vAwXPP[318+-1366*6+7879]:--this.vAwXPP[0];return this.cuJdwz(f)},o.prototype.cuJdwz=function(i){return~i?this.SMiHyA(this.KMBZJs):i},o.prototype.SMiHyA=function(i){for(let f=1903*3+-443*13+1*50,p=this.vAwXPP.length;f<p;f++)this.vAwXPP.push(Math.round(Math.random())),p=this.vAwXPP.length;return i(this.vAwXPP[13*449+3381+-9218])},new o(K).EjiRng(),s=K.BEJldI(s),K.PyhCSn[r]=s}return s}const Rx=function(){let t=!0;return function(n,e){const s={_0x133c5f:160},a=t?function(){const c=K;if(e){const r=e[c(s._0x133c5f)](n,arguments);return e=null,r}}:function(){};return t=!1,a}}(),La=Rx(void 0,function(){const t={_0x6cedb6:145,_0x55537e:175,_0x31055b:188,_0x35d203:184,_0x3d4df1:141,_0x3fba33:154,_0x11fa6c:158,_0x3ebd6b:139,_0x104304:142,_0x3fe0fc:153},n={_0xeaa2d7:131,_0xa82148:195},e=K,s={PxhvB:function(o,i){return o(i)},wzzQy:function(o,i){return o+i},mrnkW:function(o,i){return o+i},AMGXZ:e(t._0x6cedb6)+e(176)+e(t._0x55537e)+" )",xAerE:e(136),hZapj:e(196),WCkTE:e(183),IfjvB:e(t._0x31055b),rUiTW:e(t._0x35d203),VoYlV:function(o,i){return o<i}},a=function(){const o=e;let i;try{i=s[o(n._0xeaa2d7)](Function,s[o(n._0xa82148)](s[o(155)]("return (function() ",s[o(133)]),");"))()}catch{i=window}return i},c=a(),r=c[e(140)]=c.console||{},l=[s[e(t._0x3d4df1)],s[e(t._0x3fba33)],e(t._0x11fa6c),s[e(163)],e(171),s[e(t._0x3ebd6b)],s[e(152)]];for(let o=-14533+1*14533;s[e(t._0x104304)](o,l[e(t._0x3fe0fc)]);o++){const i=Rx[e(121)+"r"][e(170)][e(193)](Rx),f=l[o],p=r[f]||i;i[e(189)]=Rx[e(193)](Rx),i[e(122)]=p[e(122)].bind(p),r[f]=i}});La();function Jx(){const t=["CMvXDwvZDa","y29UzMLN","AgvHzgvYCW","DgLHBhm","CLvPvfC","BgvUz3rO","AfPHCgO","BxjUA1C","mJGXmJHUCuPpENi","wc1bufaTvMvYCW","Aw5MBW","zgvZy3jPChrPBW","yxbWBhK","5PYn5yQH5zMO5PEG5zon5BQu77Ym6k+35Qoa5Rwl","mtm3ndm3mNnevuLVEq","v0nRveu","l2rHAwX5l2fWAq","Bg9JyxrPB24","DxnL","C2TPCef1DgHszq","nJu4ow5nAhH0vW","zhvYyxrPB24","ChjVDg90ExbL","zxHJzxb0Aw9U","yw5KBgvY","kcGOlISPkYKRkq","y3jLyxrL","CM4GDgHPCYiPka","y3rVCIGICMv0Dq","C0ToAve","Aw9U","Cgf0Ag5HBwu","BwvZC2fNzq","sLPND1C","6k+35Rgc5AsX6lsLicG","zxjYB3i","DhjHy2u","yxbWBgLJyxrPBW","CMvQzwn0","mJeYnJyZn1LsC0PuvW","DgfIBgu","x19WCM90B19F","mZq4odGZmM9kse9WEq","zgf0yq","DhLWzq","yMLUza","mJuWCeflrejW","D3P6uxK","D2fYBG","mZi5vwzOt3bc","DgL0Bgu","5OkO55Qe572r57UC6l+E5O6L","y29UC3rYDwn0BW","Dg9tDhjPBMC","CMvZCg9UC2u","muTUAxrtAa","C3rHDhvZ","5PYQ55+L6zsz6k+V","mtm2nJbPzvnsAK8","BejAB0y","C2TPCevYCM9Ysa","C3rYAw5N","uhHODKi","C2vnuKu","qu1hwfO","zgLYzwn0","Aw50zxjJzxb0BW","Bg9N","C2vHCMnO","nJKWmdeYogH2zgrZyW","swzQDKi","y29UC29Szq","EefLCKu","vM9zBfy","D2L0AenYzwrLBG","mJy1mdbdv1DYqNu","E30Uy29UC3rYDq","q29UDgvUDc1uEq","5Pon5l2C5AsX6lsL"];return Jx=function(){return t},Jx()}Ge.defaults[N(143)+"tials"]=!0;const ye={};ye[N(146)+"pe"]=N(185)+"n/json",ye[N(157)+N(178)]="1.7.0";const Fx={};Fx.timeout=3e4,Fx[N(143)+N(151)]=!0,Fx[N(150)]=ye;const Ut=Fx,$t={...Ut};$t.baseURL=N(164)+"/";const W=Ge[N(174)]($t),Fa={...Ut},lt=Ge[N(174)](Fa),Ua=t=>{const n={_0x453d1e:132,_0xe46611:161,_0x2d2a13:120,_0x3d0eb7:123,_0x18a84f:123,_0x19ea93:191,_0x37ba78:180,_0x3477d6:125,_0x16f8d5:148,_0x40f7d8:126},e=N,s={};s[e(n._0x453d1e)]=function(c,r){return c===r},s.jmWvJ=e(n._0xe46611)+e(n._0x2d2a13);const a=s;if(t[e(n._0x3d0eb7)]){const c=t[e(n._0x18a84f)][e(n._0x19ea93)];return a.seMRE(typeof c,e(130))?c:c?.[e(n._0x37ba78)]||c?.[e(183)]||e(182)+t[e(123)][e(n._0x3477d6)]+")"}else return t[e(n._0x16f8d5)]?a.jmWvJ:t.message||e(n._0x40f7d8)},mt=t=>{const n={_0x485fc4:183,_0x16a9cf:149,_0x5d8bb4:119,_0x4c4bd7:123,_0x576a9a:167,_0x389a8b:134,_0x31e782:177},e=N,s={StetU:function(a,c){return a(c)},JZgwW:e(147),RCPRD:e(n._0x485fc4),sKNiQ:function(a,c){return a!==c}};if(!t[e(n._0x16a9cf)]?.[e(129)+e(172)]){const a=s.StetU(Ua,t),c={};c[e(n._0x5d8bb4)]=s[e(181)],c[e(159)+"n"]=a,c[e(192)]=s.RCPRD,c[e(169)]=4e3,m[e(174)](c)}return t[e(n._0x4c4bd7)]?.[e(125)]===-923*1+-1*953+2277&&!t[e(149)]?.[e(n._0x576a9a)+e(n._0x389a8b)]&&s[e(n._0x31e782)](window[e(165)][e(179)],Wx.to)&&(window[e(165)].href=Wx.to),Promise[e(186)](t)};W[N(135)+"rs"][N(123)][N(166)](t=>t,mt),lt[N(135)+"rs"][N(123)][N(166)](t=>t,mt);(function(t,n){const e={_0x58a674:218,_0x4256df:163,_0x5ee47e:170},s=z,a=t();for(;;)try{if(-parseInt(s(191))/1+parseInt(s(e._0x58a674))/2+-parseInt(s(e._0x4256df))/3*(parseInt(s(173))/4)+-parseInt(s(235))/5*(parseInt(s(179))/6)+-parseInt(s(e._0x5ee47e))/7*(parseInt(s(158))/8)+parseInt(s(243))/9*(parseInt(s(247))/10)+parseInt(s(166))/11===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Kx,10*-142635+842915+221478*6);const $a=function(){const t={_0x540513:245};let n=!0;return function(e,s){const a=n?function(){const c=z;if(s){const r=s[c(t._0x540513)](e,arguments);return s=null,r}}:function(){};return n=!1,a}}(),we=$a(void 0,function(){const t={_0x420005:186,_0x306952:224},n=z,e={};e[n(210)]=n(193)+"+$";const s=e;return we[n(t._0x420005)]()[n(t._0x306952)](s.UEFCx)[n(186)]()[n(237)+"r"](we)[n(t._0x306952)](s[n(210)])});we();const Ix=function(){const t={_0x407f8d:245};let n=!0;return function(e,s){const a=n?function(){const c=z;if(s){const r=s[c(t._0x407f8d)](e,arguments);return s=null,r}}:function(){};return n=!1,a}}(),Na=Ix(void 0,function(){const t={_0x41bc34:203,_0x28d281:211,_0x8891e4:240,_0x29842c:248,_0x43b481:215,_0x272641:225,_0xf45e4:214,_0x39ea62:216,_0x2ccb46:199},n=z,e={CjTGe:function(r,l){return r(l)},cLWpV:function(r,l){return r+l},mZorm:n(180)+n(206),ufGBq:n(241)+'ctor("retu'+n(200)+" )",QQVSv:function(r){return r()},FkeZn:n(t._0x41bc34),rtvIR:n(t._0x28d281),zYsHw:n(236),Nsniu:n(196),xjDAb:n(t._0x8891e4),rHyru:n(253),FOLRX:"trace"};let s;try{const r=e[n(212)](Function,e[n(t._0x29842c)](e[n(t._0x29842c)](e[n(t._0x43b481)],e[n(159)]),");"));s=e[n(194)](r)}catch{s=window}const a=s.console=s[n(251)]||{},c=[e.FkeZn,e[n(231)],e.zYsHw,e.Nsniu,e[n(t._0x272641)],e[n(t._0xf45e4)],e[n(222)]];for(let r=0;r<c[n(t._0x39ea62)];r++){const l=Ix.constructor[n(189)][n(t._0x2ccb46)](Ix),o=c[r],i=a[o]||l;l[n(195)]=Ix[n(199)](Ix),l[n(186)]=i[n(186)].bind(i),a[o]=l}});Na();function z(t,n){t=t-(-1*-70+-607*7+4337);const e=Kx();let s=e[t];if(z.TslvrS===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};z.ZKkFbP=a,z.JGaiQs={},z.TslvrS=!0}const c=e[-2568+1541*1+1027],r=t+c,l=z.JGaiQs[r];if(l)s=l;else{const o=function(i){this.JkdTED=i,this.HsmlWh=[1,0,0],this.MsNZJv=function(){return"newState"},this.CXlhKe="\\w+ *\\(\\) *{\\w+ *",this.xTCiyg=`['|"].+['|"];? *}`};o.prototype.eVJlHA=function(){const i=new RegExp(this.CXlhKe+this.xTCiyg),f=i.test(this.MsNZJv.toString())?--this.HsmlWh[3515+502*-7]:--this.HsmlWh[15676+-2*7838];return this.gugKtG(f)},o.prototype.gugKtG=function(i){return~i?this.buUvSw(this.JkdTED):i},o.prototype.buUvSw=function(i){for(let f=2254+-7*859+-7*-537,p=this.HsmlWh.length;f<p;f++)this.HsmlWh.push(Math.round(Math.random())),p=this.HsmlWh.length;return i(this.HsmlWh[-3205+499*-5+5700])},new o(z).eVJlHA(),s=z.ZKkFbP(s),z.JGaiQs[r]=s}return s}function dt(){const t={_0xeeaa81:168,_0x57ead3:190},n={_0x422018:249},e=z,s={EQBEs:"/role",KpWZm:function(r){return r()},limNw:function(r,l,o){return r(l,o)}},[a,c]=s[e(t._0xeeaa81)](v.useState);return s[e(t._0x57ead3)](v.useEffect,()=>{const r=e;W[r(n._0x422018)](s.EQBEs).then(l=>{c(l[r(198)])})[r(234)](()=>{})},[]),a}async function Ha(){const t={_0x416d32:232,_0x4c7338:204},n=z,e={};e.HlUBx=n(t._0x416d32)+"id";const s=e;return(await W[n(249)](s[n(t._0x4c7338)])).data}async function qa(t){const n={_0xd17def:183,_0x40ef9b:169,_0x3a196c:198},e=z,s={};s[e(169)]=e(232)+"id";const a=s,c={};return c.accs=t,(await W[e(n._0xd17def)](a[e(n._0x40ef9b)],c))[e(n._0x3a196c)]}async function Nt(){const t=z,n={};n.NdBuX="/account";const e=n;return(await W.get(e.NdBuX))[t(198)]}async function yt(t){const n={_0x1a0072:239,_0x116ae9:183,_0x465cfe:252},e=z,s={};s[e(252)]=e(n._0x1a0072);const a=s;return(await W[e(n._0x116ae9)](a[e(n._0x465cfe)],t))[e(198)]}async function Va(t){const n={_0x165713:229,_0x3cd40f:250,_0x218341:209,_0x2cdb45:164},e=z,s={};s[e(167)]=e(n._0x165713),s.MBeBS="/account/import",s.OswGH=e(233)+e(176);const a=s,c=new FormData;return c[e(254)](a[e(167)],t),(await W[e(n._0x3cd40f)](a[e(n._0x218341)],c,{headers:{"Content-Type":a[e(n._0x2cdb45)]}}))[e(198)]}async function Ya(t){const n={_0x1f10d7:178},e=z,s={};return s[e(n._0x1f10d7)]=t,(await W[e(250)]("/account",s)).data}async function Qa(){const t=z;return(await W[t(220)]("/"))[t(198)]}async function Ja(){const t={_0x200df7:239},n=z;return(await W[n(220)](n(t._0x200df7))).data}async function ft(t){const n={_0x236dad:249,_0x59d7b8:213,_0x4fe6fe:198},e=z;return(await W[e(n._0x236dad)](e(n._0x59d7b8)+t))[e(n._0x4fe6fe)]}async function Ht(t){const n={_0x2d8bc3:220},e=z;return(await W[e(n._0x2d8bc3)](e(213)+t)).data}async function Ga(t,n,e,s,a){const c={_0x2e75e7:230,_0xd24e9f:172},r=z,l={};return l[r(c._0x2e75e7)]=n,l[r(c._0xd24e9f)]=e,l.channel=s,l.batch_accounts=a,(await W[r(183)]("/account/"+t,l))[r(198)]}async function Gx(t,n){const e={_0xe7f3c4:198},s=z;return(await W[s(249)]("/account/"+t+"/"+n))[s(e._0xe7f3c4)]}async function _x(t,n,e){const s={_0x16f2d9:217},a=z,c={XaMze:function(l,o,i){return l(o,i)}},r={};return r[n]=e,c[a(s._0x16f2d9)](ut,t,r)}function Kx(){const t=["Cg9ZDa","y29UC29Szq","EMf2shO","DgfIBgu","yxbWzw5K","mJG5nJq4s2jZBMDw","DwzhqNe","vvjm","l3nPBMDSzv9Yzq","l3vZzxiV","mJe3mtqZrufTEK54","t3n3r0G","l3zHBgLKyxrL","mZKXnZe3n21OEvjKtG","vNLjCeq","s3bxwM0","A3D1EuC","n1DnD21VAW","yMXVyG","CgfZC3DVCMq","nJbICMvOr28","vhf1s1u","DxnLCMLK","zM9YBs1KyxrH","y3rvuKW","ywXPyxm","odK0rxbhtuHm","CMv0DxjUicHMDq","BNDxuKm","y2HHBgXLBMDL","Chv0","DwX0","Dgf0Dxm","Dg9tDhjPBMC","wwr4tKK","l3f1zxj5x3zHBa","ChjVDg90ExbL","BgLTtNC","mJKYmtm0tLfgrwPO","l2rVx2rHAwX5","kcGOlISPkYKRkq","uvfwu3y","x19WCM90B19F","zxjYB3i","tMTIzfq","zgf0yq","yMLUza","CM4GDgHPCYiPka","l2fJy291BNqVCW","AwrHDgu","Bg9N","sgXvqNG","C3vSDc8","BMn0Aw9UkcKG","p3rLEhq9","Ew5J","tujLqLm","vuvgq3G","D2fYBG","q2Pur2u","l2fJy291BNqV","CKH5CNu","BvPVCM0","BgvUz3rO","wgfnEMu","mJCYntaWnfPmsxDVqW","DMfSAwrHDgu","zgvSzxrL","y3jLyxrLt2jQzq","rK9muLG","l2rHAwX5x3jLCW","C2vHCMnO","EgPeqwi","l2nVBMzPzW","v21vzhy","DwX0lW","zMLSzq","DxnLCM5HBwu","CNr2svi","l2nSyw5FzM9YyG","BxvSDgLWyxj0lW","y2f0y2G","mtC3nZvcyMjsAKG","Aw5MBW","y29UC3rYDwn0BW","zxnOs3u","l2fJy291BNq","zxHJzxb0Aw9U","E30Uy29UC3rYDq","ChjUAvm","mtqXm2fMyLD5rW","l2rVx3nPBMDSzq","yxbWBhK","rujcveu","nJe4mJbZsuX4uMu","y0XxCfy","z2v0"];return Kx=function(){return t},Kx()}async function ut(t,n){const e={_0x56de70:213,_0x1ad7e1:198},s=z;return(await W.put(s(e._0x56de70)+t+s(226),n))[s(e._0x1ad7e1)]}async function Ka(t){const n={_0x344913:174,_0x8ab0d6:181,_0x2a69a6:250,_0x16c809:213,_0x3f48e8:192,_0x4fe44a:198},e=z,s={};s[e(n._0x344913)]=function(r,l){return r*l},s[e(n._0x8ab0d6)]=function(r,l){return r*l};const a=s;return(await W[e(n._0x2a69a6)](e(n._0x16c809)+t+e(n._0x3f48e8),{},{timeout:a[e(n._0x344913)](a.nwWRC(-821*-3+-2896*3+1247*5,-1624+1*1684),2*368+-1*-4388+-4124)}))[e(n._0x4fe44a)]}async function Xa(t,n){const e={_0x391b29:238},s=z,a={};a[s(238)]=function(o,i){return o*i};const c=a,r={};return r.order=n,(await W.post(s(213)+t+s(244),r,{timeout:c[s(e._0x391b29)](8268+32*-11+-134*59,4931+115*17+-6826)*1e3}))[s(198)]}async function Za(t){const n={_0x24bd5d:249,_0x5674ac:223,_0x4075fd:184,_0x431e3e:198},e=z;return(await W[e(n._0x24bd5d)]("/account/"+t+(e(n._0x5674ac)+e(n._0x4075fd))))[e(n._0x431e3e)]}async function xc(t,n){const e={_0x28de2d:161},s=z;return(await W.get("/account/"+t+(s(e._0x28de2d)+"sult/")+n))[s(198)]}async function ec(){const t={_0x140476:227,_0x5341b9:227,_0x50c0cc:198},n=z,e={};e[n(t._0x140476)]="/user";const s=e;return(await W.get(s[n(t._0x5341b9)]))[n(t._0x50c0cc)]}async function tc(t,n){return(await W[z(250)]("/user/"+t,n)).data}async function nc(t,n){return(await W[z({_0x225dbc:183}._0x225dbc)]("/user/"+t,n)).data}async function sc(t){const n={_0x5e238a:162},e=z;return(await W.delete(e(n._0x5e238a)+t)).data}async function ac(t,n,e,s){const a={_0x596aef:182},c=z,r={};return r.id=t,r[c(a._0x596aef)]=n,r[c(219)]=e,r[c(175)]=s,(await W[c(250)](c(165),r)).data}async function cc(){const t={_0x5e2960:249},n=z;return(await W[n(t._0x5e2960)]("/running_s"+n(185)))[n(198)]}function rc({id:t,userid:n,gt:e,challenge:s,onClose:a}){const c=r=>{const{geetest_challenge:l,geetest_validate:o}=r;ac(t,l,o,n).then(()=>{typeof a>"u"?window.close():a()}).catch(i=>{m.create({title:"发送验证信息失败",type:"error",description:i?.response?.data||"网络问题"})})};return x.jsx(kn,{gt:e,challenge:s,onSuccess:c,https:!0,width:"300px",captch_type:1,gs:1,offline:!1})}const qt=jx("/daily/validate")({validateSearch:t=>({id:t.id||"",userid:t.userid||"",gt:t.gt||"",challenge:t.challenge||""}),component:oc});function oc(){const{id:t,userid:n,gt:e,challenge:s}=qt.useSearch();return x.jsx(D,{height:"100vh",align:"center",justify:"center",bg:"bg.canvas",children:x.jsx(rc,{id:t,userid:n,gt:e,challenge:s})})}const Vt=v.forwardRef(function(n,e){const{inputProps:s,children:a,rootRef:c,trackLabel:r,thumbLabel:l,colorPalette:o="brand",...i}=n;return x.jsxs(Ws,{ref:c,colorPalette:o,...i,children:[x.jsx(Es,{ref:e,...s}),x.jsxs(Bs,{children:[x.jsx(Ls,{children:l&&x.jsx(Fs,{fallback:l?.off,children:l?.on})}),r&&x.jsx(Us,{fallback:r.off,children:r.on})]}),a!=null&&x.jsx($s,{children:a})]})}),ic=B.create(({accs:t})=>{const n=px(),{handleSubmit:e,register:s,formState:{isSubmitting:a}}=xe(),c=r=>{qa(r.accs).then(async l=>{m.create({type:"success",title:"创建会战禁用成功",description:l}),n.resolve(),await n.hide()}).catch(l=>{m.create({type:"error",title:"创建会战禁用失败",description:l?.response?.data||"网络错误"})})};return x.jsxs(cx,{closeOnOverlayClick:!1,isOpen:n.visible,onClose:n.hide,children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"设置会战禁用"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx("form",{onSubmit:e(c),children:x.jsxs(E,{gap:4,children:[x.jsx(tx,{required:!0,children:x.jsx(rt,{...s("accs"),placeholder:"禁用账号（是游戏账号噢）",h:"50vh",defaultValue:t,size:"md"})}),x.jsx(P,{colorPalette:"brand",loading:a,type:"submit",children:"提交"})]})})})]})]})}),lc=B.create(()=>{const t=dt(),n=px(),{handleSubmit:e,register:s,formState:{isSubmitting:a,errors:c}}=xe(),r=l=>{tc(l.qq,l).then(async o=>{m.create({type:"success",title:"创建用户成功",description:o}),n.resolve(),await n.hide()}).catch(o=>{m.create({type:"error",title:"创建用户失败",description:o?.response?.data||"网络错误"})})};return x.jsxs(cx,{closeOnOverlayClick:!1,isOpen:n.visible,onClose:n.hide,children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"创建用户"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsx("form",{onSubmit:e(r),children:x.jsxs(E,{gap:4,children:[x.jsx(tx,{invalid:!!c.qq,label:"QQ",errorText:c.qq?.message,children:x.jsx(Z,{type:"text",...s("qq",{required:"QQ 不能为空",minLength:{value:5,message:"QQ号长度至少 5 位"}}),placeholder:"5位以上"})}),x.jsx(tx,{invalid:!!c.password,label:"密码",errorText:c.password?.message,children:x.jsx(Z,{type:"password",...s("password",{required:"请输入密码",minLength:{value:5,message:"密码长度至少 5 位"}}),placeholder:"请输入密码"})}),x.jsx(tx,{children:x.jsx(V,{inputProps:s("clan"),children:"公会管理"})}),x.jsx(tx,{children:x.jsx(V,{inputProps:s("disabled"),children:"禁用"})}),t?.super_user&&x.jsx(tx,{children:x.jsx(V,{inputProps:s("admin"),children:"管理员"})}),x.jsx(P,{colorPalette:"brand",loading:a,type:"submit",children:"创建"})]})})})]})]})});function dc(){const t=J(),[n,e]=v.useState();v.useEffect(()=>{ec().then(r=>{e(r)}).catch(r=>{m.create({type:"error",title:r?.response?.data||"网络错误"})})},[t.open]);const s=dt(),a=()=>{B.show(lc,{}).then(()=>{t.onToggle()}).catch(()=>{})},c=()=>{Ha().then(async r=>{await B.show(ic,{accs:r})}).catch(r=>{m.create({type:"error",title:r?.response?.data||"网络错误"})})};return x.jsxs(E,{height:"100%",p:4,gap:6,children:[x.jsx(ux,{variant:"elevated",bg:"bg.panel",shadow:"sm",borderRadius:"2xl",children:x.jsx(hx,{py:3,px:4,children:x.jsxs(D,{justify:"space-between",align:"center",children:[x.jsx(A,{fontSize:"lg",fontWeight:"bold",children:"用户管理"}),x.jsxs($,{gap:3,children:[x.jsxs(P,{size:"sm",variant:"surface",colorPalette:"blue",onClick:a,children:[x.jsx(qn,{})," 创建用户"]}),x.jsxs(P,{size:"sm",variant:"surface",colorPalette:"orange",onClick:c,children:[x.jsx(Vn,{})," 会战禁用"]})]})]})})}),x.jsx(at,{gap:4,templateColumns:"repeat(auto-fill, minmax(280px, 1fr))",children:n?.map(r=>{const l=s?.super_user==!0,o=r.admin==!0&&s?.super_user==!0||r.admin==!1;return x.jsx(fc,{qq:r.qq,onToggle:t.onToggle,clan:r.clan,admin:r.admin,userDisabled:r.disabled,accountCount:r.account_count,allowEdit:o,allowManage:l},r.qq)})})]})}function fc({qq:t,userDisabled:n,clan:e,admin:s,accountCount:a,allowManage:c,allowEdit:r,onToggle:l}){const o=$x.useRef(null),i=J(),f=()=>{t!=null&&sc(t).then(g=>{m.create({type:"success",title:`删除用户${t}成功`,description:g}),i.onClose(),l()}).catch(g=>{m.create({type:"error",title:g?.response?.data||"网络错误"})})},p=(g,y)=>{t!=null&&nc(t,g).then(_=>{m.create({type:"success",title:`更新用户${t}成功`,description:_}),y(),l()}).catch(_=>{m.create({type:"error",title:_?.response?.data||"网络错误"})})},w=J(),d=()=>{p({disabled:!n},w.onClose)},b=J(),u=()=>{p({admin:!s},b.onClose)},C=()=>{p({clan:!e},b.onClose)},I=()=>{B.show(Vx,{}).then(g=>{p({password:g},()=>{B.hide(Vx).then(()=>{}).catch(()=>{})})}).catch(()=>{})};return x.jsxs(ux,{bg:"bg.panel",shadow:"sm",borderRadius:"2xl",borderWidth:"1px",borderColor:"border.subtle",transition:"all 0.2s",_hover:{shadow:"md",transform:"translateY(-2px)",borderColor:"blue.400"},children:[x.jsx(wx,{pb:2,children:x.jsxs(D,{justify:"space-between",align:"center",children:[x.jsxs($,{children:[x.jsx(R,{w:"40px",h:"40px",borderRadius:"full",bg:n?"gray.100":"blue.50",color:n?"gray.500":"blue.600",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"xl",children:x.jsx(Yn,{})}),x.jsxs(E,{gap:0,children:[x.jsx(A,{fontWeight:"bold",fontSize:"md",children:t}),x.jsx(Tt,{colorPalette:n?"gray":"green",variant:"subtle",children:n?"已禁用":"正常"})]})]}),x.jsx(ot,{size:"sm",variant:"ghost",colorPalette:"gray",_hover:{bg:"red.100",color:"red.600"},onClick:i.onOpen,disabled:!r}),x.jsx(Mx,{leastDestructiveRef:o,isOpen:i.open,onClose:i.onClose,title:"删除用户",body:`确定删除用户${t}吗？`,onConfirm:f}),x.jsx(Mx,{leastDestructiveRef:o,isOpen:w.open,onClose:w.onClose,title:`${n?"启用":"禁用"}用户`,body:`确定${n?"启用":"禁用"}用户${t}吗？`,onConfirm:d})]})}),x.jsx(hx,{py:3,children:x.jsxs(E,{gap:3,children:[x.jsxs(D,{justify:"space-between",align:"center",bg:"bg.subtle",p:2,borderRadius:"md",children:[x.jsx(A,{fontSize:"sm",color:"fg.muted",children:"管理账户数"}),x.jsx(A,{fontWeight:"bold",children:a})]}),x.jsx($,{justify:"space-between",children:x.jsxs(D,{align:"center",gap:2,children:[x.jsx(A,{fontSize:"sm",children:"启用状态"}),x.jsx(Vt,{size:"sm",colorPalette:"green",checked:!n,onCheckedChange:w.onOpen,disabled:!r})]})}),x.jsxs(E,{gap:2,children:[x.jsx(V,{variant:"subtle",colorPalette:"purple",checked:s,onCheckedChange:u,disabled:!c,children:"管理员权限"}),x.jsx(V,{variant:"subtle",colorPalette:"orange",checked:e,onCheckedChange:C,disabled:!c,children:"公会管理权限"})]})]})}),x.jsx(ct,{pt:0,children:x.jsxs(P,{w:"full",variant:"surface",colorPalette:"pink",size:"sm",onClick:I,disabled:!r,children:[x.jsx(Qn,{})," 重设密码"]})})]})}const Yt=jx("/daily/_sidebar/user/")({component:dc});function uc(){const[t,n]=v.useState(null),[e,s]=v.useState(!1),[a,c]=v.useState(!1),r=async()=>{s(!0);try{const l=await cc();n(l)}catch(l){m.create({type:"error",title:"获取运行状态失败",description:l?.message||"网络错误"})}finally{s(!1)}};return x.jsxs(Ot,{open:a,onOpenChange:l=>{c(l.open),l.open&&r()},positioning:{placement:"bottom-end"},children:[x.jsx(Dt,{asChild:!0,children:x.jsxs(P,{size:"xs",variant:"surface",colorPalette:"cyan",children:[x.jsx(Bx,{})," 运行状态"]})}),x.jsx(Ex,{children:x.jsx(Ns,{children:x.jsxs(Mt,{children:[x.jsx(Hs,{}),x.jsx(qs,{children:e?x.jsxs($,{justify:"center",p:4,children:[x.jsx(It,{size:"sm"}),x.jsx(A,{fontSize:"sm",children:"加载中..."})]}):t?.statuses?x.jsxs(be,{align:"stretch",gap:3,children:[t.statuses.map((l,o)=>x.jsxs(R,{p:2,borderWidth:"1px",borderRadius:"md",bg:"bg.subtle",children:[x.jsxs($,{justify:"space-between",mb:1,children:[x.jsx(A,{fontWeight:"bold",fontSize:"sm",children:l.name}),x.jsx(Tt,{colorPalette:l.waiting>0?"orange":"green",children:l.waiting>0?"排队中":"空闲"})]}),x.jsxs($,{fontSize:"xs",color:"fg.muted",justify:"space-between",children:[x.jsxs(A,{children:["运行中: ",l.running," / ",l.max_running]}),x.jsxs(A,{children:["排队: ",l.waiting]})]})]},o)),t.statuses.length===0&&x.jsx(A,{fontSize:"sm",color:"fg.muted",children:"无运行状态信息"})]}):x.jsx(A,{fontSize:"sm",color:"fg.muted",p:2,children:"暂无数据"})})]})})})]})}const fe=({icon:t,children:n,href:e,onClick:s,...a})=>{const c=Wt({base:!0,md:!1}),r=x.jsxs(D,{align:"center",py:2,px:3,borderRadius:"full",role:"group",cursor:"pointer",transition:"all 0.2s",color:"fg.muted",_hover:{bg:"bg.subtle",color:"fg",transform:"translateY(-1px)"},onClick:s,...a,children:[t&&x.jsx(Vs,{mr:c?"0":"2",fontSize:"18",as:t}),!c&&x.jsx(A,{fontSize:"sm",fontWeight:"medium",children:n})]});return e?x.jsx(Tx,{to:e,activeProps:{style:{fontWeight:"bold",backgroundColor:"var(--chakra-colors-sidebar-active-bg)",color:"var(--chakra-colors-sidebar-active-fg)"}},style:{textDecoration:"none"},children:x.jsx(q,{content:c?n:void 0,children:r})}):x.jsx(q,{content:c?n:void 0,children:r})};function hc(){const{colorMode:t,toggleColorMode:n}=Ft(),e=dt(),s=Wt({base:!0,md:!1}),a=Je();v.useEffect(()=>{const r=new EventSource("/daily/api/query_validate");return r.onmessage=function(l){const o=JSON.parse(l.data);o.status!=="ok"&&window.open(o.url,"_blank")},r.onerror=function(l){console.error("Error receiving SSE",l)},()=>{r.close()}},[]);const c=async()=>{try{const r=await za();m.create({title:"登出成功",description:r,type:"success"}),await a({to:Wx.to})}catch{}};return x.jsxs(D,{flexDirection:"column",height:"100vh",bg:"bg.canvas",children:[x.jsx(R,{top:0,left:0,right:0,zIndex:20,bg:"transparent",px:4,py:0,children:x.jsxs(D,{h:14,alignItems:"center",justifyContent:"space-between",children:[x.jsx(R,{children:x.jsx(Tx,{to:bx.to,children:x.jsx(Ox,{src:je,alt:"autopcr",h:"32px",w:"auto",objectFit:"contain"})})}),x.jsxs($,{as:"nav",gap:s?1:4,children:[x.jsx(fe,{href:bx.to,icon:Jn,children:"一览"},"dashboard"),e?.admin&&x.jsx(fe,{href:Yt.to,icon:Gn,children:"用户管理"},"user"),x.jsx(fe,{icon:Rt,onClick:c,children:"登出"},"logout")]}),x.jsxs(D,{alignItems:"center",gap:2,children:[x.jsx(uc,{}),x.jsx(P,{"aria-label":"Toggle color mode",onClick:n,size:s?"sm":"md",px:0,variant:"ghost",colorPalette:"brand",children:t==="light"?x.jsx(kt,{}):x.jsx(St,{})})]})]})}),x.jsx(D,{p:4,flex:1,overflow:"auto",flexDirection:"column",zIndex:1,children:x.jsx(wt,{})}),x.jsx(R,{py:0,pb:2,bg:"transparent",px:4,textAlign:"right",children:x.jsxs(A,{fontSize:"xs",color:"fg.muted",children:["Powered by ",x.jsx("a",{href:"https://github.com/cc004/autopcr",target:"_blank",rel:"noreferrer",children:"AutoPCR"})," & ",x.jsx("a",{href:"https://github.com/Lanly109/AutoPCR_Web",target:"_blank",rel:"noreferrer",children:"AutoPCR_Web"})," · ","1.7.0"]})})]})}const bc=jx("/daily/_sidebar")({component:hc}),pc=v.forwardRef(function(n,e){const{children:s,...a}=n;return x.jsxs(Ys,{ref:e,variant:"outline",...a,children:[s,x.jsxs(Qs,{children:[x.jsx(Js,{}),x.jsx(Gs,{})]})]})}),_c=Ks,Cx=v.forwardRef(function(n,e){const{startElement:s,endElement:a,children:c,...r}=n;return x.jsxs(Xs,{attached:!0,ref:e,...r,children:[s&&x.jsx(_t,{children:s}),c,a&&x.jsx(_t,{children:a})]})}),Ce=B.create(({candidates:t,value:n})=>{const e=px(),[s,a]=v.useState(n),[c,r]=v.useState(t.filter(k=>!n.includes(k.value))),[l,o]=v.useState(""),[i,f]=v.useState(""),[p,w]=v.useState(null),d=v.useRef(!1);e.visible&&!d.current&&(a(n),r(t.filter(k=>!n.includes(k.value))),o(""),f("")),d.current=e.visible;const b=k=>{s.includes(k)||(a([...s,k]),r(c.filter(L=>L.value!==k)))},u=k=>{a(s.filter(j=>j!==k));const L=t.find(j=>j.value===k);L&&r([...c,L])},C=()=>{e.resolve(s),e.hide()},I=()=>{e.resolve(void 0),e.hide()},g=(k,L)=>{if(k===L)return;const j=[...s],[O]=j.splice(k,1);j.splice(L,0,O),a(j)},y=k=>{w(k)},_=()=>{w(null)},S=k=>{k.preventDefault()},T=(k,L)=>{if(k.preventDefault(),p===null)return;const j=s.indexOf(p);j!==-1&&g(j,L)},F=()=>{a([]),r(t)},H=c.filter(k=>String(k.value).includes(l)||String(k.display).includes(l)||k.tags?.some(L=>L.toLowerCase().includes(l.toLowerCase()))),re=s.map(k=>t.find(j=>j.value===k)??{value:k,display:k,tags:[],nickname:null}).filter(k=>String(k.value).includes(i)||k.tags?.some(L=>L.toLowerCase().includes(i.toLowerCase())));return x.jsxs(cx,{isOpen:e.visible,onClose:e.hide,size:"xl",children:[x.jsx(rx,{}),x.jsxs(ox,{children:[x.jsx(ix,{children:"选择"}),x.jsx(dx,{}),x.jsx(lx,{children:x.jsxs(D,{gap:4,children:[x.jsxs(R,{flex:1,children:[x.jsxs(A,{mb:2,children:["未选择 (",c.length,")"]}),x.jsx(Z,{placeholder:"搜索",mb:2,value:l,onChange:k=>o(k.target.value)}),x.jsxs(R,{maxH:"55vh",overflowY:"auto",p:2,borderRadius:"md",borderWidth:"1px",borderColor:"border",bg:"bg.panel",children:[x.jsx(P,{size:"sm",colorPalette:"green",onClick:()=>{const k=H.map(L=>L.value);a([...new Set([...s,...k])]),r(c.filter(L=>!k.includes(L.value)))},children:"全选"}),H.map((k,L)=>x.jsx(R,{p:1,cursor:"pointer",_hover:{bg:"bg.subtle"},onClick:()=>b(k.value),children:k.nickname?k.nickname:k.display},L))]})]}),x.jsxs(R,{flex:1,children:[x.jsxs(A,{mb:2,children:["已选择 (",s.length,")"]}),x.jsx(Z,{placeholder:"搜索",mb:2,value:i,onChange:k=>f(k.target.value)}),x.jsxs(R,{maxH:"55vh",overflowY:"auto",p:2,borderRadius:"md",borderWidth:"1px",borderColor:"border",bg:"bg.panel",children:[x.jsxs(D,{mb:2,alignItems:"center",justifyContent:"space-between",children:[x.jsx(A,{fontSize:"xs",color:"fg.muted",children:"提示：拖拽可调整顺序"}),x.jsx(P,{onClick:F,size:"sm",colorPalette:"red",children:"清空"})]}),re.map(k=>{const L=s.indexOf(k.value);return x.jsx(D,{alignItems:"center",justifyContent:"space-between",_hover:{bg:"bg.subtle"},children:x.jsxs(R,{p:1,cursor:"grab",draggable:!0,onDragStart:()=>y(k.value),onDragEnd:_,onDragOver:S,onDrop:j=>T(j,L),flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",children:[k.nickname?k.nickname:k.display,x.jsx(P,{variant:"ghost",colorPalette:"red","aria-label":"移除",size:"xs",onClick:()=>u(k.value),px:0,children:x.jsx(Kn,{})})]})},String(k.value))})]})]})]})}),x.jsxs(it,{children:[x.jsx(P,{onClick:C,colorPalette:"blue",mr:3,children:"保存"}),x.jsx(P,{variant:"ghost",onClick:I,children:"取消"})]})]})]})});B.register("multiSelectModal",Ce);function gc({alias:t,value:n,info:e}){switch(e?.config_type){case"bool":return x.jsx(jc,{alias:t,value:n,info:e});case"int":return x.jsx(mc,{alias:t,value:n,info:e});case"single":return x.jsx(yc,{alias:t,value:n,info:e});case"multi":return x.jsx(wc,{alias:t,value:n,info:e});case"time":return x.jsx(Cc,{alias:t,value:n,info:e});case"text":return x.jsx(vc,{alias:t,value:n,info:e});case"multi_search":return x.jsx(Sc,{alias:t,value:n,info:e})}}function jc({alias:t,value:n,info:e}){const s=a=>{_x(t,e.key,a.checked).then(c=>{m.create({type:"success",title:"保存成功",description:c})}).catch(c=>{m.create({type:"error",title:"保存失败",description:c.response?.data||"网络错误"})})};return x.jsx(Cx,{startElement:e.desc,endElement:x.jsx(Vt,{id:e.key,defaultChecked:n,onCheckedChange:s})})}function mc({alias:t,value:n,info:e}){const s=(a,c)=>{_x(t,e.key,c).then(r=>{m.create({type:"success",title:"保存成功",description:r})}).catch(r=>{m.create({type:"error",title:"保存失败",description:r.response?.data||"网络错误"})})};return x.jsx(Cx,{startElement:e.desc,children:x.jsx(pc,{onValueChange:a=>s(a.value,a.valueAsNumber),id:e.key,defaultValue:String(n),min:Math.min(...e.candidates.map(a=>a.value)),max:Math.max(...e.candidates.map(a=>a.value)),children:x.jsx(_c,{})})})}function yc({alias:t,value:n,info:e}){const s=a=>{let c=a.target.value;const r=Number(c);isNaN(r)||(c=r),_x(t,e.key,c).then(l=>{m.create({type:"success",title:"保存成功",description:l})}).catch(l=>{m.create({type:"error",title:"保存失败",description:l.response?.data||"网络错误"})})};return x.jsx(Cx,{startElement:e.desc,children:x.jsx(Et,{children:x.jsx(Bt,{onChange:s,id:e.key,defaultValue:n,children:e.candidates.map(a=>x.jsx("option",{value:a.value,children:a.display},a.value))})})})}function wc({alias:t,value:n,info:e}){const s=a=>{let c=a;const r=c.map(l=>Number(l));r.length!=0&&!isNaN(r[0])&&(c=r),_x(t,e.key,c).then(l=>{m.create({type:"success",title:"保存成功",description:l})}).catch(l=>{m.create({type:"error",title:"保存失败",description:l.response?.data||"网络错误"})})};return x.jsx(Cx,{startElement:e.desc,children:x.jsx(R,{paddingLeft:"16px",paddingRight:"32px",overflowY:"scroll",borderWidth:"1px",borderColor:"border.subtle",borderRadius:"md",w:"full",children:x.jsx(Zs,{onValueChange:a=>s(a),defaultValue:n.map(a=>String(a)),children:x.jsx(E,{gap:[1,5],direction:["column","row"],children:e.candidates.map(a=>x.jsx(V,{value:String(a.value),children:a.display},a.value))})})})})}function Cc({alias:t,value:n,info:e}){const s=a=>{_x(t,e.key,a.target.value).then(c=>{m.create({type:"success",title:"保存成功",description:c})}).catch(c=>{m.create({type:"error",title:"保存失败",description:c.response?.data||"网络错误"})})};return x.jsx(Cx,{startElement:e.desc,children:x.jsx(Z,{type:"time",onBlur:s,id:e.key,defaultValue:n})})}function vc({alias:t,value:n,info:e}){const s=c=>{_x(t,e.key,c.target.value).then(r=>{m.create({type:"success",title:"保存成功",description:r})}).catch(r=>{m.create({type:"error",title:"保存失败",description:r.response?.data||"网络错误"})})},a=c=>{c.target.style.height="auto",c.target.style.height=`${c.target.scrollHeight}px`};return x.jsxs(x.Fragment,{children:[x.jsx(A,{children:e.desc}),x.jsx(rt,{onBlur:s,id:e.key,defaultValue:n,onInput:a})]})}function Sc({alias:t,value:n,info:e}){const[s,a]=v.useState(n),c=(s||[]).map(l=>{const o=e.candidates.find(i=>i.value===l);return o?o.nickname?o.nickname:o.display:String(l)}),r=async l=>{l.stopPropagation();try{const o=await B.show(Ce,{candidates:e.candidates,value:s});if(o===void 0)return;const i=await _x(t,e.key,o);a(o),m.create({type:"success",title:"保存成功",description:i}),await B.hide(Ce)}catch(o){const i=o;m.create({type:"error",title:"保存失败",description:i.response?.data||"网络错误"})}};return x.jsx(Cx,{startElement:e.desc,endElement:x.jsx(P,{size:"sm",onClick:r,children:"选择"}),children:x.jsx(Z,{value:c.join(", "),readOnly:!0,onClick:r,cursor:"pointer"})})}function kc({alias:t,config:n,info:e,isOpen:s,onOpen:a,onClose:c,...r}){const{open:l,onToggle:o}=J({defaultOpen:!1}),i=d=>{_x(t,e?.key,!!d.checked).then(b=>{m.create({type:"success",title:"保存成功",description:b})}).catch(b=>{m.create({type:"error",title:"保存失败",description:b.response?.data||"网络错误"})})},f=()=>{m.create({type:"info",title:"开始执行"+e?.name+"..."}),a(),Xa(t,e?.key).then(async d=>{m.create({type:"success",title:"执行成功"}),c(),await B.show(pe,{alias:t,title:e?.name,resultInfo:d})}).catch(async d=>{m.create({type:"error",title:"执行失败",description:await(d.response?.data).text()||"网络错误"}),c()})},p=d=>{d.stopPropagation(),m.create({type:"info",title:`正在获取${e?.name}的结果`}),a(),xc(t,e?.key).then(async b=>{c(),await B.show(pe,{alias:t,title:e?.name,resultInfo:b})}).catch(async b=>{c(),m.create({type:"error",title:"获取结果失败",description:await(b.response?.data).text()||"网络错误"})})},w=d=>{d.stopPropagation(),f()};return x.jsxs(ux,{colorPalette:"brand",bg:"bg.panel",borderRadius:"2xl",shadow:"sm",borderWidth:"1px",borderColor:"border.subtle",transition:"all 0.2s",_hover:{shadow:"md",borderColor:"blue.400"},...r,children:[x.jsx(wx,{py:3,cursor:"pointer",onClick:o,children:x.jsxs(D,{align:"center",children:[x.jsx(R,{onClick:d=>d.stopPropagation(),mr:3,children:x.jsx(V,{defaultChecked:!!n[e.key],onCheckedChange:i,size:"lg",colorPalette:"blue"})}),x.jsx(R,{flex:"1",children:x.jsxs($,{gap:2,children:[x.jsx(Dx,{size:"md",fontWeight:"bold",children:e?.name}),e?.tags.map(d=>x.jsx(mx,{colorPalette:"purple",variant:"subtle",size:"sm",children:x.jsx(yx,{children:d})},d))]})}),x.jsxs($,{gap:2,children:[e?.runnable&&x.jsx(P,{size:"sm",variant:"surface",colorPalette:"blue",loading:s,onClick:w,children:"执行"}),e?.runnable&&x.jsx(P,{size:"sm",variant:"ghost",colorPalette:"blue",loading:s,onClick:p,children:"结果"}),x.jsx(R,{color:"fg.muted",transition:"transform 0.2s",transform:l?"rotate(180deg)":"rotate(0deg)",children:x.jsx(Xn,{})})]})]})}),l&&x.jsx(hx,{pt:0,animation:"fade-in 0.2s",children:x.jsxs(E,{gap:"4",children:[e?.description&&x.jsx(R,{bg:"bg.subtle",p:3,borderRadius:"lg",fontSize:"sm",color:"fg.muted",children:e?.description}),e?.description&&e?.config_order.length!=0&&x.jsx(xa,{borderColor:"border.subtle"}),e?.config_order.length!=0&&x.jsx(R,{children:x.jsxs(E,{gap:"4",children:[x.jsx(Dx,{size:"sm",color:"fg.subtle",children:"设置项"}),e?.config_order.map(d=>x.jsx(gc,{alias:t,value:n[d],info:e.config[d]},d))]})})]})})]})}function Rc({tocList:t,...n}){return x.jsx(R,{bg:"bg.panel",borderRight:"1px",borderColor:"border.subtle",overflow:"scroll",...n,children:t.map((e,s)=>x.jsx(Ic,{module_id:e.id,children:e.name},s))})}const Ic=({module_id:t,children:n,...e})=>x.jsx(R,{as:"a",href:`#${t}`,style:{textDecoration:"none"},_focus:{boxShadow:"none"},onClick:s=>{s.preventDefault(),document.querySelector(`#${t}`)?.scrollIntoView({behavior:"smooth"})},children:x.jsx(D,{align:"center",p:"2",mx:"2",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"brand.500",color:"black"},...e,children:n})});function Pc({alias:t,keys:n}){const[e,s]=v.useState(null),{open:a,onOpen:c,onClose:r}=J();v.useEffect(()=>{t&&n&&Gx(t,n).then(i=>{s(i)}).catch(i=>{console.log(i)})},[t,n]);const l=[];e?.order.map(i=>{l.push({name:e.info[i].name,id:i})});const o=se`
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    `;return x.jsxs(R,{animation:`${o} 0.5s ease-out`,pb:20,children:[x.jsx(E,{gap:4,children:e?e?.order.map(i=>x.jsx(kc,{id:i,alias:t,config:e?.config,info:e.info[i],isOpen:a,onOpen:c,onClose:r},i)):Array.from({length:4}).map((i,f)=>x.jsxs(R,{p:6,borderWidth:"1px",borderRadius:"2xl",bg:"bg.panel",shadow:"sm",children:[x.jsx(ex,{height:"30px",width:"40%",mb:4}),x.jsx(ex,{height:"20px",width:"100%",mb:2}),x.jsx(ex,{height:"20px",width:"80%",mb:2}),x.jsx(ex,{height:"20px",width:"90%",mb:6}),x.jsx(ex,{height:"40px",width:"100%"})]},f))}),x.jsx(D,{position:"fixed",right:"6",top:"50%",transform:"translateY(-50%)",justifyContent:"center",alignItems:"center",zIndex:100,children:x.jsxs(Ot,{lazyMount:!0,positioning:{placement:"left",gutter:4},children:[x.jsx(Dt,{children:x.jsx(Ke,{"aria-label":"TOC",colorPalette:"blue",size:"xl",rounded:"full",shadow:"xl",transition:"all 0.2s",_hover:{transform:"scale(1.1)",shadow:"2xl"},children:x.jsx(Rt,{})})}),x.jsx(Mt,{width:"auto",minW:"200px",children:x.jsx(Rc,{maxH:"60vh",tocList:l})})]})})]})}const zc=({alias:t,areas:n,onImportSuccess:e})=>{const{open:s,onOpen:a,onClose:c}=J(),r=()=>{a(),Promise.all(n.map(g=>Gx(t,g.key))).catch(g=>{m.create({type:"error",title:"配置导出失败",description:g.response?.data||"网络错误"})}).then(g=>{if(!g)return;const y={};g.forEach((T,F)=>{y[n[F].key]=T.config});const _=btoa(encodeURIComponent(JSON.stringify(y))),S=new Blob([_],{type:"text/plain;charset=utf-8"});ca.saveAs(S,`autopcr_${t}.autopcrcfg`),m.create({type:"success",title:"配置导出成功",description:"配置文件下载可能会有延迟，请稍后..."})}).catch(g=>{m.create({type:"error",title:"配置保存失败",description:g.message})}).finally(()=>{c()})},l=(g,y,_)=>{switch(g){case"bool":case"single":if(typeof _=="boolean")return _;break;case"int":if(typeof _=="number")return _;break;case"text":if(typeof _=="string")return _;break;case"time":if(typeof _=="string"&&_.match(/^\d{2}:\d{2}$/)!==null)return _;break;case"multi":case"multi_search":{if(!Array.isArray(_))break;const S=[];for(const T of _)typeof T!="number"&&typeof T!="string"||y.find(F=>T===F.value)&&S.push(T);return S}}},o=(g,y)=>{const _={};for(const S in g.info){y[S]&&typeof y[S]=="boolean"&&(_[S]=y[S]);const T=g.info[S].config;for(const F in T){const H=T[F],vx=l(H.config_type,H.candidates,y[F]);vx!==void 0&&(_[F]=vx)}}return _},i=async g=>{try{const y=await Promise.all(n.map(T=>Gx(t,T.key))),_=JSON.parse(decodeURIComponent(atob(g))),S={};y.forEach((T,F)=>{const H=n[F].key;_[H]!==void 0&&Object.assign(S,o(T,_[H]))}),await ut(t,S),m.create({type:"success",title:"配置导入成功"}),e?.()}catch(y){y instanceof An?m.create({type:"error",title:"配置导入失败",description:y.response?.data||"网络错误"}):m.create({type:"error",title:"配置导入失败",description:y.message})}finally{c()}},f=v.useRef(null),p=g=>{const y=g.target.files&&g.target.files.length>0?g.target.files[0]:void 0;y!==void 0&&(a(),y.text().then(i))},w=J(),[d,b]=v.useState(""),u=()=>{w.onClose(),i(d)},C=()=>{c(),w.onClose(),b("")};return x.jsx(x.Fragment,{children:t!="BATCH_RUNNER"&&x.jsxs(E,{gap:4,w:"full",bg:"bg.panel",rounded:"xl",boxShadow:"lg",p:6,my:12,children:[x.jsx(Dx,{lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl"},children:"配置导入/导出"}),x.jsx(P,{colorPalette:"brand",w:"full",loading:s,type:"submit",onClick:r,children:"导出"}),x.jsxs(P,{colorPalette:"brand",w:"full",loading:s,type:"submit",onClick:()=>f.current?.click(),children:["从文件导入",x.jsx("input",{ref:f,type:"file",accept:".autopcrcfg",style:{visibility:"hidden",position:"absolute"},onChange:p})]}),x.jsx(P,{colorPalette:"brand",w:"full",loading:s,type:"submit",onClick:w.onOpen,children:"从文本导入"}),x.jsxs(et,{open:w.open,onOpenChange:g=>!g.open&&C(),children:[x.jsx(tt,{}),x.jsx(nt,{children:x.jsxs(st,{children:[x.jsx(Xe,{children:"从文本导入"}),x.jsx(Ze,{children:x.jsx(rt,{placeholder:"请输入 .autopcrcfg 文件内容。",value:d,onChange:g=>b(g.target.value)})}),x.jsxs(xt,{children:[x.jsx(P,{onClick:C,children:"取消"}),x.jsx(P,{colorPalette:"blue",onClick:u,ml:3,children:"确定"})]})]})})]})]})})},Ac=se`
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
`;function Tc({accountInfo:t,onSaveSuccess:n}){const[e,s]=v.useState(t?.username),[a,c]=v.useState(t?.password),[r,l]=v.useState(t?.channel),[o,i]=v.useState(t?.batch_accounts||[]),{open:f,onOpen:p,onClose:w}=J(),[d,b]=v.useState(!1),[u,C]=v.useState([]);v.useEffect(()=>{if(t?.all_accounts&&t?.batch_accounts){const _=t.all_accounts.filter(S=>!t.batch_accounts.includes(S));C(_),b(t.batch_accounts.length===t.all_accounts.length)}},[t]);const I=_=>{_.preventDefault(),p(),Ga(t?.alias,e,a,r,o).then(S=>{m.create({title:"保存成功",description:S,type:"success"}),n&&n()}).catch(S=>{m.create({title:"保存失败",description:S.response?.data||"网络错误",type:"error"})}).finally(()=>{w()})},g=_=>{const S=!!_.checked;b(S),S?(i(t?.all_accounts?[...t.all_accounts]:[]),C([])):(i([]),C(t?.all_accounts?[...t.all_accounts]:[]))},y=_=>{o.includes(_)?(i(o.filter(S=>S!==_)),C([...u,_])):(i([...o,_]),C(u.filter(S=>S!==_)))};return v.useEffect(()=>{t?.all_accounts&&b(o.length===t.all_accounts.length)},[o,t]),x.jsxs(E,{gap:6,w:"full",bg:"bg.panel",rounded:"2xl",borderWidth:"1px",borderColor:"border.muted",p:{base:6,md:8},my:4,animation:`${Ac} 0.4s ease-out`,boxShadow:"sm",children:[x.jsxs(D,{justify:"space-between",align:"center",mb:2,children:[x.jsx(Dx,{size:"lg",fontWeight:"bold",letterSpacing:"tight",children:t?.alias==="BATCH_RUNNER"?"批量运行配置":t?.alias}),t?.alias!=="BATCH_RUNNER"&&x.jsx(A,{fontSize:"sm",color:"fg.muted",children:"基础信息配置"})]}),x.jsx("form",{onSubmit:I,children:x.jsxs(E,{gap:6,children:[t?.alias!=="BATCH_RUNNER"&&x.jsxs(x.Fragment,{children:[x.jsx(tx,{label:"账号",required:!0,children:x.jsx(Z,{size:"lg",placeholder:"请输入手机号或账号",type:"text",variant:"subtle",defaultValue:t?.username||"",onChange:_=>s(_.target.value)})}),x.jsx(tx,{label:"密码",required:!0,children:x.jsx(Z,{size:"lg",placeholder:"请输入密码",type:"password",variant:"subtle",defaultValue:t?.password||"",onChange:_=>c(_.target.value)})}),x.jsx(tx,{label:"平台",required:!0,children:x.jsx(Et,{size:"lg",variant:"subtle",children:x.jsx(Bt,{defaultValue:t?.channel,onChange:_=>l(_.target.value),children:t?.channel_option.map(_=>x.jsx("option",{value:_,children:_},_))})})}),x.jsx(P,{size:"lg",colorPalette:"blue",loading:f,type:"submit",rounded:"xl",fontWeight:"semibold",mt:2,children:"保存配置"})]}),t?.alias==="BATCH_RUNNER"&&x.jsxs(E,{gap:5,children:[x.jsxs(D,{justify:"space-between",align:"center",bg:"bg.subtle",p:3,rounded:"xl",children:[x.jsx(V,{checked:d,onCheckedChange:g,fontWeight:"medium",children:"全选所有账号"}),x.jsx(P,{size:"sm",colorPalette:"blue",loading:f,type:"submit",rounded:"lg",px:6,children:"保存"})]}),x.jsxs(at,{columns:{base:1,md:2},gap:4,children:[x.jsxs(ux,{variant:"subtle",size:"sm",children:[x.jsx(wx,{pb:2,children:x.jsxs(A,{fontWeight:"semibold",color:"fg.muted",children:["未选择的账号 (",u.length,")"]})}),x.jsx(hx,{pt:0,maxH:"400px",overflowY:"auto",children:x.jsxs(be,{align:"start",gap:1,children:[u.map(_=>x.jsx(V,{checked:!1,onCheckedChange:()=>y(_),w:"full",p:2,rounded:"md",_hover:{bg:"bg.muted"},children:_},`unselected-${_}`)),u.length===0&&x.jsx(A,{color:"fg.muted",fontSize:"sm",py:2,children:"无"})]})})]}),x.jsxs(ux,{variant:"outline",borderColor:"blue.solid/20",size:"sm",children:[x.jsx(wx,{pb:2,bg:"blue.subtle/20",borderTopRadius:"md",children:x.jsxs(A,{fontWeight:"semibold",color:"blue.fg",children:["已选择的账号 (",o.length,")"]})}),x.jsx(hx,{pt:2,maxH:"400px",overflowY:"auto",children:x.jsxs(be,{align:"start",gap:1,children:[o.map(_=>x.jsx(V,{checked:!0,onCheckedChange:()=>y(_),colorPalette:"blue",w:"full",p:2,rounded:"md",_hover:{bg:"blue.subtle/10"},children:_},`selected-${_}`)),o.length===0&&x.jsx(A,{color:"fg.muted",fontSize:"sm",py:2,children:"请选择账号"})]})})]})]})]})]})})]})}const ve=jx("/daily/_sidebar/account/$account")({component:Oc,loader:({params:{account:t}})=>ft(t),errorComponent:()=>x.jsx("div",{children:" Not Found "})});function Oc(){const{account:t}=ve.useParams(),n=ve.useLoaderData(),[e,s]=v.useState(n),a=async()=>{try{const c=await ft(t);s(c)}catch(c){console.error("刷新账号数据失败",c)}};return v.useEffect(()=>{s(n)},[n]),x.jsxs(zt,{lazyMount:!0,variant:"plain",defaultValue:e?.username!=""&&e?.password!=""?"1":"0",display:"flex",flexDirection:"column",height:"100%",children:[x.jsxs(At,{bg:"bg.panel",p:1,borderRadius:"xl",shadow:"sm",borderWidth:"1px",borderColor:"border.subtle",mb:4,overflowX:"auto",gap:1,children:[x.jsx(Hx,{value:"0",px:4,py:1.5,rounded:"lg",fontWeight:"semibold",transition:"all 0.2s",_selected:{bg:"blue.solid",color:"white",shadow:"md",_hover:{bg:"blue.600"}},_hover:{bg:"bg.subtle"},children:t}),x.jsx(R,{width:"1px",height:"16px",alignSelf:"center",bg:"border.muted",mx:1}),e?.area.map((c,r)=>x.jsx(Hx,{value:String(r+1),px:3,py:1.5,rounded:"lg",fontWeight:"medium",color:"fg.muted",transition:"all 0.2s",_selected:{bg:"bg.subtle",color:"blue.600",fontWeight:"bold",shadow:"sm"},_hover:{bg:"bg.subtle",color:"fg"},children:c?.name},c?.key))]}),x.jsxs(R,{flex:1,overflow:"auto",children:[x.jsxs(qx,{value:"0",children:[x.jsx(Tc,{accountInfo:e,onSaveSuccess:a}),x.jsx(zc,{alias:e?.alias,areas:e?.area,onImportSuccess:a})]}),e?.area.map((c,r)=>x.jsxs(qx,{value:String(r+1),children:[" ",x.jsx(Pc,{alias:e?.alias,keys:c?.key})," "]},c?.key))]})]})}const M=xx;(function(t,n){const e={_0x375521:343,_0x4321e4:317,_0x30b10b:339,_0xf67671:316,_0x192fd4:327},s=xx,a=t();for(;;)try{if(parseInt(s(349))/1*(-parseInt(s(348))/2)+-parseInt(s(319))/3+-parseInt(s(e._0x375521))/4+-parseInt(s(e._0x4321e4))/5+parseInt(s(e._0x30b10b))/6+-parseInt(s(e._0xf67671))/7*(-parseInt(s(334))/8)+parseInt(s(357))/9*(parseInt(s(e._0x192fd4))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Xx,449*787+995830+-680739);const Dc=function(){let t=!0;return function(n,e){const s=t?function(){const a=xx;if(e){const c=e[a(351)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),Se=Dc(void 0,function(){const t={_0x31cdc7:344,_0x40b457:320,_0x375a14:347,_0x15d5f3:318},n=xx,e={};e[n(318)]=n(t._0x31cdc7)+"+$";const s=e;return Se[n(347)]()[n(t._0x40b457)](n(344)+"+$")[n(t._0x375a14)]().constructor(Se)[n(t._0x40b457)](s[n(t._0x15d5f3)])});Se();const Px=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const a=e.apply(n,arguments);return e=null,a}}:function(){};return t=!1,s}}(),Mc=Px(void 0,function(){const t={_0x10d03a:325,_0x2305b3:333,_0x2c922e:332,_0x3adfcb:326,_0x366c93:355,_0x206f3d:342,_0x32a986:324,_0x706c36:321,_0x2d3244:331,_0x47afef:315},n=xx,e={TbtAL:function(r,l){return r(l)},LYbtb:function(r,l){return r+l},HiLvN:n(353)+n(356),pVGFR:n(330)+'ctor("return this")( )',QoRxi:n(340),axNjy:"info",XuxhS:n(t._0x10d03a),abFTY:n(t._0x2305b3),OULtW:n(t._0x2c922e),ybAtR:function(r,l){return r<l}};let s;try{s=e[n(338)](Function,e[n(359)](e.LYbtb(e.HiLvN,e.pVGFR),");"))()}catch{s=window}const a=s.console=s[n(t._0x3adfcb)]||{},c=[n(361),e[n(337)],e[n(t._0x366c93)],e[n(322)],e[n(t._0x206f3d)],e[n(341)],n(t._0x32a986)];for(let r=2560+-10*-354+610*-10;e[n(t._0x706c36)](r,c[n(352)]);r++){const l=Px[n(313)+"r"][n(t._0x2d3244)][n(315)](Px),o=c[r],i=a[o]||l;l[n(360)]=Px[n(315)](Px),l[n(347)]=i.toString[n(t._0x47afef)](i),a[o]=l}});Mc();const Wc=jx(M(358))(),ke={};ke[M(335)]=M(358),ke[M(323)+M(345)]=()=>Lt;const ae=Wc[M(350)](ke),Re={};Re.path=M(354),Re[M(323)+M(345)]=()=>ae;const Ec=qt[M(350)](Re),Ie={};Ie[M(335)]=M(336),Ie["getParentR"+M(345)]=()=>ae;const Bc=Wx[M(350)](Ie),Pe={};Pe.id=M(346),Pe[M(323)+M(345)]=()=>ae;const ce=bc.update(Pe),ze={};ze[M(335)]=M(329),ze[M(323)+M(345)]=()=>ce;const Lc=Yt[M(350)](ze),Ae={};Ae[M(335)]="/account/",Ae[M(323)+"oute"]=()=>ce;const Fc=bx.update(Ae),Te={};function xx(t,n){t=t-(-6*-116+-8878*-1+49*-189);const e=Xx();let s=e[t];if(xx.AyNWTE===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};xx.FDMubT=a,xx.RWirUO={},xx.AyNWTE=!0}const c=e[0],r=t+c,l=xx.RWirUO[r];if(l)s=l;else{const o=function(i){this.SMzRuP=i,this.UlVcaq=[1,0,0],this.EvsuaE=function(){return"newState"},this.EBwGZD="\\w+ *\\(\\) *{\\w+ *",this.oStYZn=`['|"].+['|"];? *}`};o.prototype.bAeiUS=function(){const i=new RegExp(this.EBwGZD+this.oStYZn),f=i.test(this.EvsuaE.toString())?--this.UlVcaq[5640+-5639*1]:--this.UlVcaq[0];return this.CTvgtH(f)},o.prototype.CTvgtH=function(i){return~i?this.NhCzXd(this.SMzRuP):i},o.prototype.NhCzXd=function(i){for(let f=0,p=this.UlVcaq.length;f<p;f++)this.UlVcaq.push(Math.round(Math.random())),p=this.UlVcaq.length;return i(this.UlVcaq[-7244*-1+2666+1982*-5])},new o(xx).bAeiUS(),s=xx.FDMubT(s),xx.RWirUO[r]=s}return s}Te[M(335)]=M(314)+"account",Te[M(323)+M(345)]=()=>ce;function Xx(){const t=["Cgf0Aa","l2XVz2LU","uw9sEgK","vgj0quW","nZG2mJK1ohvWq2nuCG","D2fYBG","t1vmDfC","ywjgvfK","mJGWndeXmNfTDMzNtG","kcGOlISPkYKRkq","B3v0zq","l19ZAwrLyMfY","Dg9tDhjPBMC","mJe4AvfrreTP","mZGYn3L0qK5RvW","DxbKyxrL","yxbWBhK","BgvUz3rO","CMv0DxjUicHMDq","l3zHBgLKyxrL","yxHoANK","BMn0Aw9UkcKG","oda3m0z0AuzgrG","l2rHAwX5","tfLIDgi","x19WCM90B19F","Bg9N","y29UC3rYDwn0BW","l2fJy291BNqVja","yMLUza","nZy3nte1n25XtNPYBq","ntq5ode3meHSru11yG","AMPZB2W","mJi5nZe2m1PYqK5qsa","C2vHCMnO","EwjbDfi","whv4Afm","z2v0ugfYzw50uG","DhjHy2u","zxjYB3i","y29UC29Szq","mtm4odbXwLHWwxO","ywrKq2HPBgrYzq","l3vZzxiV","E30Uy29UC3rYDq","ChjVDg90ExbL","DgfIBgu","zxHJzxb0Aw9U","ofPdtfzpqW"];return Xx=function(){return t},Xx()}const Uc=ve.update(Te),$c=Lt[M(328)+"n"]([ae[M(328)+"n"]([ce.addChildren([Uc,Fc,Lc]),Bc,Ec])]),Nc=Pn({routeTree:$c,defaultPreload:"intent",context:{}});function Hc(){return x.jsx(zn,{router:Nc,context:{}})}function qc(){return x.jsx(Hc,{})}const h=X;(function(t,n){const e={_0x17539d:437,_0x153c0b:384,_0x48b275:438,_0x3e5ae4:424,_0x438d7d:358,_0x3cac08:343,_0x1c4c6a:392},s=X,a=t();for(;;)try{if(-parseInt(s(e._0x17539d))/1*(parseInt(s(369))/2)+parseInt(s(386))/3+parseInt(s(399))/4+-parseInt(s(e._0x153c0b))/5+-parseInt(s(e._0x48b275))/6*(parseInt(s(e._0x3e5ae4))/7)+parseInt(s(e._0x438d7d))/8*(-parseInt(s(e._0x3cac08))/9)+-parseInt(s(e._0x1c4c6a))/10*(-parseInt(s(395))/11)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(Zx,856382+-169206*-1+-392629);const Vc=function(){let t=!0;return function(n,e){const s=t?function(){const a=X;if(e){const c=e[a(353)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),Oe=Vc(void 0,function(){const t={_0x1fc28a:382,_0x2fd03d:421},n=X,e={};e.YMetA=n(357)+"+$";const s=e;return Oe[n(t._0x1fc28a)]()[n(t._0x2fd03d)](s.YMetA)[n(382)]().constructor(Oe)[n(421)](s.YMetA)});Oe();const zx=function(){let t=!0;return function(n,e){const s=t?function(){const a=X;if(e){const c=e[a(353)](n,arguments);return e=null,c}}:function(){};return t=!1,s}}(),Yc=zx(void 0,function(){const t={_0x13eefa:364,_0x22eaa3:348,_0x18bdd1:435,_0x1c3930:411,_0x5bbc26:406,_0x42392d:362,_0x1d5aec:419,_0x5336c1:410,_0x238fb8:423,_0x8eb3d3:429,_0x5bd7d6:382},n={_0x509c06:405,_0x3c4635:391,_0x52d032:378},e=X,s={bKkqE:function(o,i){return o(i)},ZMDvX:function(o,i){return o+i},tasqG:e(t._0x13eefa)+e(373)+e(t._0x22eaa3)+" )",wnbCJ:function(o){return o()},wnveI:"log",pFtzr:"warn",upxXJ:"info",YARVr:e(t._0x18bdd1),KQcRS:"trace",ttMmm:function(o,i){return o<i}},a=function(){const o=e;let i;try{i=s[o(n._0x509c06)](Function,s[o(n._0x3c4635)](o(376)+o(n._0x52d032)+s.tasqG,");"))()}catch{i=window}return i},c=s[e(401)](a),r=c[e(411)]=c[e(t._0x1c3930)]||{},l=[s[e(379)],s[e(t._0x5bbc26)],s[e(389)],e(t._0x42392d),e(t._0x1d5aec),s[e(t._0x5336c1)],s[e(416)]];for(let o=-1*-6159+-9679+3520;s[e(388)](o,l.length);o++){const i=zx[e(t._0x238fb8)+"r"].prototype[e(t._0x8eb3d3)](zx),f=l[o],p=r[f]||i;i.__proto__=zx.bind(zx),i[e(t._0x5bd7d6)]=p.toString.bind(p),r[f]=i}});Yc();const Qt={};Qt[h(383)]=h(375);const Jt={};Jt[h(383)]=h(397);const Gt={};Gt.value=h(403);const Kt={};Kt.value="#70B0FF";const Xt={};Xt[h(383)]=h(439);const Zt={};Zt.value="#1A6CE6";const xn={};xn[h(383)]=h(381);const en={};en[h(383)]=h(346);const tn={};tn[h(383)]=h(354);const nn={};nn[h(383)]=h(409);const sn={};sn.value=h(430);const nx={};nx[50]=Qt,nx[100]=Jt,nx[h(425)]=Gt,nx[h(407)]=Kt,nx[400]=Xt,nx[h(396)]=Zt,nx[h(413)]=xn,nx[h(350)]=en,nx[h(345)]=tn,nx[h(363)]=nn,nx[h(355)]=sn;const an={};an[h(349)]=nx;const cn={};cn.colors=an;const rn={};rn[h(383)]="{colors.br"+h(422);const on={};on[h(383)]=h(417);const De={};De[h(359)]=h(347)+h(428),De._dark=h(347)+h(361);const ln={};ln[h(383)]=De;const Me={};Me[h(359)]=h(347)+h(356),Me[h(365)]="{colors.br"+h(434);const dn={};dn[h(383)]=Me;function X(t,n){t=t-343;const e=Zx();let s=e[t];if(X.EWxcVr===void 0){var a=function(o){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let f="",p="",w=f+a;for(let d=0,b,u,C=0;u=o.charAt(C++);~u&&(b=d%4?b*64+u:u,d++%4)?f+=w.charCodeAt(C+10)-10!==0?String.fromCharCode(255&b>>(-2*d&6)):d:0)u=i.indexOf(u);for(let d=0,b=f.length;d<b;d++)p+="%"+("00"+f.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(p)};X.YSsxCt=a,X.uaInya={},X.EWxcVr=!0}const c=e[-8872*-1+-1*-5947+-14819],r=t+c,l=X.uaInya[r];if(l)s=l;else{const o=function(i){this.RfqugG=i,this.CuHhkR=[1,0,0],this.GDMoHQ=function(){return"newState"},this.vlgJIP="\\w+ *\\(\\) *{\\w+ *",this.WFysKV=`['|"].+['|"];? *}`};o.prototype.JYzkDj=function(){const i=new RegExp(this.vlgJIP+this.WFysKV),f=i.test(this.GDMoHQ.toString())?--this.CuHhkR[-4678+5*-365+6504]:--this.CuHhkR[0];return this.cOERFF(f)},o.prototype.cOERFF=function(i){return~i?this.ygXkcG(this.RfqugG):i},o.prototype.ygXkcG=function(i){for(let f=0,p=this.CuHhkR.length;f<p;f++)this.CuHhkR.push(Math.round(Math.random())),p=this.CuHhkR.length;return i(this.CuHhkR[236*38+3474+-12442])},new o(X).JYzkDj(),s=X.YSsxCt(s),X.uaInya[r]=s}return s}const We={};We[h(359)]=h(347)+"and.100}",We._dark=h(347)+"and.800}";const fn={};fn[h(383)]=We;const Ee={};Ee[h(359)]=h(347)+h(428),Ee._dark=h(347)+h(361);const un={};un.value=Ee;const hn={};hn.value=h(347)+h(422);const fx={};fx[h(433)]=rn,fx[h(374)]=on,fx.fg=ln,fx.muted=dn,fx[h(385)]=fn,fx[h(394)]=un,fx[h(412)]=hn;const Be={};Be[h(359)]=h(347)+h(356),Be[h(365)]=h(404)+h(377)+"00}";const bn={};bn[h(383)]=Be;const Le={};Le[h(359)]=h(347)+h(371),Le._dark=h(347)+"and.200}";const pn={};pn[h(383)]=Le;const Fe={};Fe[h(380)]=bn,Fe[h(420)]=pn;const Ue={};Ue[h(370)]=h(417),Ue._dark=h(390);const _n={};_n[h(383)]=Ue;const $e={};$e.base=h(387),$e[h(365)]=h(400);const gn={};gn.value=$e;const Ne={};Ne[h(370)]=h(372),Ne[h(365)]=h(393);const jn={};jn[h(383)]=Ne;const He={};He.base=h(432)+h(368)+h(366),He._dark=h(426)+h(408);const mn={};mn[h(383)]=He;const Ax={};Ax[h(414)]=_n,Ax[h(402)]=gn,Ax[h(436)]=jn,Ax[h(427)]=mn;const Ux={};Ux[h(349)]=fx,Ux[h(431)]=Fe,Ux.bg=Ax;function Zx(){const t=["mZaW","idaSidaUnIK","iZbemKu2oq","wufsvNi","y29UC29Szq","zM9JDxnsAw5N","nJaW","CgfUzwW","z2XVyMfSq3nZ","s1fJuLm","i0zgrKzgrG","A2vUCW","zxHJzxb0Aw9U","ywn0AxzLrMC","C2vHCMnO","yw5KlJuWmh0","y29UC3rYDwn0BW","mtaWodi0nwPSy3jrBa","mJaW","CMDIysGWlcaWla","z2XHC3m","yw5KlJyWmh0","yMLUza","iZa4mum0mG","C2LKzwjHCG","CMDIysGYntuSia","C29SAwq","yw5KlJKWmh0","DgfIBgu","Bxv0zwq","mJq0oty5rw5ZBMT0","ndjusfHID24","iZm4oejgmG","nda1EufjwvPv","yMCUy2fUDMfZ","odaW","iZbbm0vbqq","E2nVBg9YCY5ICG","CM4GDgHPCYiPka","yNjHBMq","nZaW","y29SB3jZ","C2vTyw50AwnuBW","yxbWBhK","iZbbmZq4nq","otuW","yw5KlJuWFq","kcGOlISPkYKRkq","mtm3mti4ELzOEKfu","x2XPz2H0","z3jHEs45mda","yw5KlJqWmh0","zxjYB3i","otaW","E30Uy29UC3rYDq","x2rHCMS","mc42kq","Dg9Rzw5Z","mJu1lcaYntuSia","mtbzEuzorw0","yMfZzq","yw5KlJGWmh0","i0verJjgnW","y3rVCIGICMv0Dq","y29UDhjHC3q","i0vdrJvgrG","CMv0DxjUicHMDq","AxrLqwXWAgeUmq","BMn0Aw9UkcKG","D252zuK","ywn0AxzLqMC","iZbgntjdqW","Dg9tDhjPBMC","DMfSDwu","nZm0mZe1wgvjCNL0","C3vIDgXL","mteWnteYohHnBLLnCa","i0uYrtHgma","DhrnBw0","Dxb4weO","iZe1muiYqG","wK1eDLG","ntbsCLzmB0W","iZfbmJaYqW","zw1WAgfZAxPLza","ndKZmJuZmMLkzNHHsG","ntaW","i0qWrtzgrG","y29SB3i","ndy5nti4nhjtAKrrDW","iZbcmeuXna","D25Iq0O","y2fUDMfZ","i0e2rdbgrG","E2nVBg9YCY53Aa","yKTRCuu","Cez0ENi"];return Zx=function(){return t},Zx()}const yn={};yn[h(351)]=Ux;const qe={};qe[h(367)]=cn,qe[h(352)+h(418)]=yn;const Ve={};Ve.base=h(360),Ve._dark="gray.50";const Ye={};Ye.bg=h(344),Ye[h(398)]=Ve;const wn={};wn.body=Ye;const Qe={};Qe.theme=qe,Qe[h(415)]=wn;const Qc=na(Qe),Jc=ea(ta,Qc);function Gc(t){return x.jsx(sa,{value:Jc,children:x.jsx(Ma,{...t})})}Rn.createRoot(document.getElementById("root")).render(x.jsx(Gc,{children:x.jsxs(B.Provider,{children:[x.jsx(qc,{}),x.jsx(fa,{})]})}));
